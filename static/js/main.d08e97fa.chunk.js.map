{"version":3,"sources":["images/avatar1.png","images/bgc-image1.jpg","images/avatar2.png","images/avatar3.png","images/avatar4.png","images/avatar5.png","images/avatar6.png","layout/Menubar.js","layout/header/Notifications.js","layout/header/Settings.js","layout/header/Help.js","layout/header/NotificationsBar.js","components/Button.js","layout/header/PictureEditor.js","layout/header/Header.js","content/email/EmailNav.js","components/Search.js","components/Pager.js","components/DateSorting.js","components/Spinner.js","constants/URL.js","services/FetchService.js","components/EmailViewTools.js","content/email/EmailList.js","tools/DateFormatter.js","components/FormInputErrMsg.js","content/email/EmailCompose.js","tools/EmailResponseHelper.js","content/email/EmailView.js","layout/Error.js","content/email/EmailPage.js","content/email/Email.js","tools/Validator.js","tools/CalendarHelper.js","content/calendar/CalendarNewTask.js","content/calendar/CalendarNav.js","components/TaskHoverButtons.js","content/calendar/CalendarTaskListDay.js","content/calendar/CalendarTaskListWeek.js","content/calendar/CalendarTaskList.js","content/calendar/CalendarPage.js","content/calendar/Calendar.js","content/addressbook/AddressbookNav.js","components/AddressbookListTools.js","content/addressbook/AddressbookList.js","content/addressbook/AddressbookMap.js","components/AddressbookAddCategoryTools.js","constants/Countries.js","content/addressbook/AddressbookAdd.js","content/addressbook/AddressbookContactView.js","content/addressbook/AddressbookPage.js","content/addressbook/Addressbook.js","content/about/About.js","layout/Content.js","layout/App.js","serviceWorker.js","index.js"],"names":["module","exports","menuItems","name","path","icon","Menubar","menu","map","menuItem","key","className","to","exact","title","Notifications","state","data","id","message","date","renderNotificationsContent","item","this","length","Component","Settings","handleClick","style","props","handleBackgroundChange","generateThemes","backgroundImage","bgcImage1","backgroundSize","theme","onClick","Help","NotificationsBar","handleMouseEnter","hoveredItem","setState","handleMouseLeave","setTimeout","notificationsActive","settingsActive","helpActive","onMouseEnter","onMouseLeave","Button","type","buttonStyle","text","PictureEditor","selectedPicture","handleSelector","event","document","querySelectorAll","forEach","classList","remove","target","toggle","generatePictureEditorSelectorOptions","avatar1","avatar2","avatar3","avatar4","avatar5","avatar6","option","src","alt","handlePictureChange","Header","clickedItem","headerPicture","localStorage","setItem","JSON","stringify","pictureEditorActive","localStorageHeaderPicture","parse","getItem","navItems","NavEmail","navigation","navItem","Search","searchText","handleChange","value","handleKeyUp","keyCode","handleSearch","handleClearInput","clearInput","placeholder","onChange","onKeyUp","Pager","pageNumber","pagesCount","currentPage","handlePageChange","DateSorting","newestFirst","handleDateSorting","prevState","Spinner","width","height","BASE_URL","FetchService","controller","AbortController","API","options","successCallback","failureCallback","signal","fetch","then","response","status","alert","Error","catch","err","console","log","abort","EmailViewTools","handleMoveToFolder","folderName","fetchService","useFetch","method","handleDeletingOrMovingEmail","toast","error","handleRestoreFromFolder","deleteEmail","currentFolder","selectButtons","reply","includes","replyAll","forward","edit","moveToSpam","moveToTrash","restoreFromTrash","restoreFromSpam","Email","renderSpinner","showSpinner","take","newCurrentPage","newSkip","skip","folder","match","params","fetchData","items","Math","ceil","itemsCount","prevProps","abortFetch","address","from","content","monthNames","currentDate","Date","minutes","getMinutes","hours","getHours","day","getDate","month","getMonth","year","getFullYear","formattedDate","toString","padStart","dateFormatter","renderEmailsTable","FormInputErrMsg","errMsg","EmailCompose","handleValidation","addressCC","addressBCC","subject","correct","indexOf","errors","handleEditorChange","createJSON","split","cc","bcc","handleSend","preventDefault","validation","headers","body","redirectToInbox","handleSaveAsDraft","redirectToDrafts","validationErrorMessages","addressIncorrect","subjectIncorrect","contentIncorrect","emailResponseQuotation","URLSearchParams","location","search","get","responsetype","emailData","subjectRE","subjectFWD","addressTO","obj","join","contentQuotation","toLocaleString","stateUpdateBasedOnResponseType","autoComplete","apiKey","init","plugins","onEditorChange","textareaName","when","EmailView","redirectToFolder","renderEmailContent","EmailPage","component","EmailList","EmailNav","Validator","validationConfigs","isValid","errorMessages","hasOwnProperty","config","find","e","fieldName","validationFunctionList","valFuncErrorMessage","validationFunc","undefined","ValidationResult","ValidationConfig","validateRequired","useValidateMaxLenght","maxLenght","validateMaxLenght","handleCalendarScrollTop","selector","element","querySelector","pixelsToScroll","scrollTop","dayOftheWeekMap","0","1","2","3","4","5","6","generateDivs","divscCount","divsClass","ifClock","divs","i","push","getFirstDayOfWeek","dateWeekDay","getDay","newDate","setDate","getWeekDateRange","setHours","toISOString","getLastDayOfWeek","generateTimeOptions","time","fullTime","halfTime","getISODateFromSelectedDateAndTime","timeOption","dateObj","timeOptionArr","CalendarNewTask","handleDatePickerChange","handleSave","taskStartTimeValue","start","end","description","dateTimeStart","dateTimeEnd","dataJSON","notes","fieldname","validateTimeValues","validationResult","validate","handleCancelBtn","task","handleUpdateData","performCalendarTaskListUpdateHandler","componentDidMount","toLocaleTimeString","slice","selectedDate","getErrorMessage","titleErrMsg","getValidationError","dateErrMsg","startErrMsg","endErrMsg","NavCalendar","onSelectHandler","handleAddTask","addTaskActive","selected","onSelect","mode","TaskHoverButtons","editTaskActive","handleEditButton","handleDeleteButton","ok","CalendarTaskListDay","dayDateRange","getDayDateRange","renderTasks","top","toLocaleDateString","CalendarTaskListWeek","weekDateRange","left","divsCount","monday","fullDate","toUpperCase","generateTitleDivs","CalendarTaskList","selectedViewHandler","selectedView","renderView","CalendarPage","Calendar","performCalendarTaskListUpdate","CalendarNav","NavAddressbook","AddressbookListTools","email","handleDeletingContact","AddressbookList","handleFavourites","index","newValue","dataCopy","isFavourite","category","currentCategory","avatar","phone","renderTable","AddressbookMap","encodeURI","city","country","frameBorder","scrolling","marginHeight","marginWidth","AddressbookAddCategoryTools","categories","toLowerCase","setCategory","toggleIsFavourite","COUNTRIES","AddressbookAdd","note","postalCode","street","postCode","redirectToAddressbookList","generateCountrySelectorOptions","handleAvatarUpload","formData","FormData","append","files","handleAvatarInputReset","handleDeleteAvatarImage","renderAvatarInput","accept","hidden","htmlFor","imgURL","mapActive","nameErrMsg","emailErrMsg","maxLength","pattern","AddressbookContactView","redirectToCategory","renderContactContent","AddressbookPage","Addressbook","AddressbookNav","About","Content","render","App","appTheme","styleJSON","localStorageTheme","position","limit","autoClose","transition","Zoom","Boolean","window","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d08e97fa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar1.7d0f3836.png\";","module.exports = __webpack_public_path__ + \"static/media/bgc-image1.f139e585.jpg\";","module.exports = __webpack_public_path__ + \"static/media/avatar2.b9546314.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar3.5a4e7d16.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar4.224f59a4.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar5.8e318d8a.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar6.11b3efc7.png\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '../styles/layout/Menubar.css';\r\n\r\nconst menuItems = [\r\n  { name: 'Email', path: '/email/', icon: \"far fa-envelope-open\" },\r\n  { name: 'Calendar', path: '/calendar/', icon: \"far fa-calendar-alt\" },\r\n  { name: 'Addressbook', path: '/addressbook/', icon: \"far fa-address-book\" },\r\n  { name: 'About', path: '/about/', icon: \"fas fa-info\" },\r\n]\r\n\r\nconst Menubar = () => {\r\n  const menu = menuItems.map(menuItem => (\r\n    <div key={menuItem.name} className=\"menu-item-container\" >\r\n\r\n      <NavLink to={menuItem.path} exact={menuItem.exact ? menuItem.exact : false}>\r\n        <li className='menu-item' title={menuItem.name}>\r\n          <i className={menuItem.icon} ></i>\r\n        </li>\r\n      </NavLink>\r\n\r\n    </div>\r\n  ))\r\n\r\n  return (\r\n    <nav className='menu-container'>\r\n      <ul className='menu'>\r\n        {menu}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Menubar;","import React, { Component } from 'react';\r\nimport '../../styles/layout/header/Notifications.css';\r\n\r\nclass Notifications extends Component {\r\n\r\n  state = {}\r\n\r\n  data = [\r\n    {\r\n      id: 1,\r\n      message: 'You have new mail',\r\n      date: 'today',\r\n      icon: <i className=\"far fa-envelope-open\"></i>,\r\n    },\r\n\r\n    {\r\n      id: 2,\r\n      message: 'Check your tasks scheduled for today',\r\n      date: 'today',\r\n      icon: <i className=\"far fa-calendar-alt\"></i>,\r\n    },\r\n\r\n    {\r\n      id: 3,\r\n      message: 'You have new mail',\r\n      date: 'yesterday',\r\n      icon: <i className=\"far fa-envelope-open\"></i>,\r\n    },\r\n\r\n    {\r\n      id: 4,\r\n      message: 'Check your tasks scheduled for today',\r\n      date: '2 days ago',\r\n      icon: <i className=\"far fa-calendar-alt\"></i>,\r\n    },\r\n    {\r\n      id: 5,\r\n      message: 'Update your settings!',\r\n      date: '1 week ago',\r\n      icon: <i className=\"fas fa-cog\"></i>,\r\n    },\r\n    {\r\n      id: 6,\r\n      message: 'Update your settings!',\r\n      date: '1 week ago',\r\n      icon: <i className=\"fas fa-cog\"></i>,\r\n    },\r\n    {\r\n      id: 7,\r\n      message: 'You have new mail',\r\n      date: '2 weeks ago',\r\n      icon: <i className=\"far fa-envelope-open\"></i>,\r\n    },\r\n    {\r\n      id: 8,\r\n      message: 'You have new mail',\r\n      date: '2 weeks ago',\r\n      icon: <i className=\"far fa-envelope-open\"></i>,\r\n    },\r\n    {\r\n      id: 9,\r\n      message: 'You have new mail',\r\n      date: '2 weeks ago',\r\n      icon: <i className=\"far fa-envelope-open\"></i>,\r\n    },\r\n  ]\r\n\r\n  renderNotificationsContent = () => {\r\n    const content = this.data.map(item => (\r\n      <div key={item.id} className=\"notification-item\">\r\n        <p className=\"notification-message\">{item.message}</p>\r\n        <p className=\"notification-icon\">{item.icon}</p>\r\n        <p className=\"notification-date\">{item.date}</p>\r\n      </div>\r\n    ))\r\n    return content;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div className=\"notifications-container\">\r\n        <div className=\"notifications-header\">\r\n          <p>Notifications:</p>\r\n          <p className=\"notifications-header-counter\">{this.data.length}</p>\r\n        </div>\r\n        <div className=\"notifications-content\">\r\n\r\n          {this.renderNotificationsContent()}\r\n\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notifications;","import React, { Component } from 'react';\r\nimport '../../styles/layout/header/Settings.css';\r\nimport bgcImage1 from '../../images/bgc-image1.jpg';\r\n\r\nclass Settings extends Component {\r\n\r\n  state = {}\r\n\r\n  handleClick = (style) => {\r\n    this.props.handleBackgroundChange(style)\r\n  }\r\n\r\n  generateThemes = () => {\r\n    const themesArr = [\r\n      {\r\n        name: 'Lightblue',\r\n        style: { backgroundImage: 'linear-gradient(120deg, #96adcb 50%, #c2e9fb 100%)' }\r\n      },\r\n      {\r\n        name: 'Salmon',\r\n        style: { backgroundImage: 'linear-gradient(142deg, rgb(227 160 154) 20%, rgb(255 253 233) 100%)' }\r\n      },\r\n      {\r\n        name: 'Cucumber water',\r\n        style: { backgroundImage: 'linear-gradient(90deg, rgb(187 206 239) 0%, rgb(216 241 219) 100%)' }\r\n        // style: { backgroundImage: 'linear-gradient(142deg, rgba(161,189,163,1) 40%, rgba(222,236,221,1) 100%)' }\r\n      },\r\n      {\r\n        name: 'Colorful background',\r\n        style: {\r\n          backgroundImage: `url(${bgcImage1})`,\r\n          backgroundSize: 'cover',\r\n        }\r\n      },\r\n      {\r\n        name: 'Sunset',\r\n        style: { backgroundImage: 'linear-gradient(45deg, rgba(0, 40, 70, 0.85) -5%, rgba(255, 115, 115, 0.6) 80%, rgba(255, 175, 123, 0.4) 99%)' }\r\n      },\r\n    ];\r\n\r\n    const themes = themesArr.map(theme => {\r\n      return (\r\n        <div key={theme.name} className=\"settings-content-theme\" onClick={() => this.handleClick(theme.style)}>\r\n          <div className=\"settings-content-theme-color\" style={theme.style}></div>\r\n          <div className=\"settings-content-theme-name\">{theme.name}</div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return themes;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"settings-container\">\r\n          <div className=\"settings-header\">\r\n            <p>Settings</p>\r\n          </div>\r\n          <div className=\"settings-content\">\r\n            <p>Change theme:</p>\r\n            <div className=\"settings-content-themes-container\">\r\n\r\n              {this.generateThemes()}\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../styles/layout/header/Help.css';\r\n\r\nclass Help extends Component {\r\n\r\n  state = {}\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n      <div className=\"help-container\">\r\n        <div className=\"help-header\">\r\n          <p>What is this?</p>\r\n        </div>\r\n        <div className=\"help-content\">\r\n\r\n          <p>This app was created as a training exercise to improve programming skills. It is a simplified version of a mailbox with calendar and addressbook features.</p>\r\n          <p>To read more, visit  <Link to='/about'>About</Link> page.</p>\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Help;","import React, { Component } from 'react';\r\nimport Notifications from './Notifications';\r\nimport Settings from './Settings';\r\nimport Help from './Help';\r\nimport '../../styles/layout/header/NotificationsBar.css';\r\n\r\nclass NotificationsBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      notificationsActive: false,\r\n      settingsActive: false,\r\n      helpActive: false,\r\n    }\r\n  }\r\n\r\n  handleMouseEnter = (hoveredItem) => {\r\n    this.setState({\r\n      [hoveredItem]: true,\r\n    })\r\n  }\r\n\r\n  handleMouseLeave = (hoveredItem) => {\r\n    setTimeout(() => {\r\n      this.setState({\r\n        [hoveredItem]: false,\r\n      })\r\n    }, 200)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"notifications\">\r\n        <div className=\"notifications-item\" title=\"Notifications\"\r\n          onMouseEnter={() => this.handleMouseEnter('notificationsActive')}\r\n          onMouseLeave={() => this.handleMouseLeave('notificationsActive')}\r\n        >\r\n          <i className=\"fas fa-bell\"></i>\r\n          <div className=\"notifications-item-counter\">9</div>\r\n          {this.state.notificationsActive ? <Notifications /> : null}\r\n        </div>\r\n        <div className=\"notifications-item\" title=\"Settings\"\r\n          onMouseEnter={() => this.handleMouseEnter('settingsActive')}\r\n          onMouseLeave={() => this.handleMouseLeave('settingsActive')}\r\n        >\r\n          <i className=\"fas fa-cog\"></i>\r\n          {this.state.settingsActive ?\r\n            <Settings\r\n              handleBackgroundChange={this.props.handleBackgroundChange} />\r\n            : null}\r\n        </div>\r\n        <div className=\"notifications-item\" title=\"Help\"\r\n          onMouseEnter={() => this.handleMouseEnter('helpActive')}\r\n          onMouseLeave={() => this.handleMouseLeave('helpActive')}\r\n        >\r\n          <i className=\"fas fa-question-circle\"></i>\r\n          {this.state.helpActive ? <Help /> : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotificationsBar;","import React from 'react';\r\nimport '../styles/components/Button.css';\r\n\r\n\r\nconst Button = (props) => {\r\n\r\n  const { type, buttonStyle, handleClick, text } = props;\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={`buttonComponent ${buttonStyle}`}\r\n      onClick={handleClick}>\r\n      {text}\r\n    </button>\r\n\r\n  );\r\n}\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport avatar1 from '../../images/avatar1.png';\r\nimport avatar2 from '../../images/avatar2.png';\r\nimport avatar3 from '../../images/avatar3.png';\r\nimport avatar4 from '../../images/avatar4.png';\r\nimport avatar5 from '../../images/avatar5.png';\r\nimport avatar6 from '../../images/avatar6.png';\r\nimport '../../styles/layout/header/PictureEditor.css';\r\nimport Button from '../../components/Button';\r\n\r\nclass PictureEditor extends Component {\r\n\r\n  state = {\r\n    selectedPicture: {},\r\n  }\r\n\r\n  handleSelector = (event, selectedPicture) => {\r\n    this.setState({\r\n      selectedPicture: this.state.selectedPicture === selectedPicture ? null : selectedPicture,\r\n    });\r\n    document.querySelectorAll('.picture-editor-selector-img').forEach(item => item.classList.remove('active'));\r\n    event.target.classList.toggle('active');\r\n  }\r\n\r\n  generatePictureEditorSelectorOptions = () => {\r\n    const options = [avatar1, avatar2, avatar3, avatar4, avatar5, avatar6];\r\n\r\n    const selectorOptions = options.map(option => (\r\n      <img src={option} alt=\"Avatar\" key={option}\r\n        className=\"picture-editor-selector-img\"\r\n        onClick={event => this.handleSelector(event, { backgroundImage: `url(${option})` })} />\r\n    ))\r\n\r\n    return selectorOptions;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"picture-editor-page-container\"\r\n          onClick={() => this.props.handleClick('pictureEditorActive')}>\r\n        </div>\r\n\r\n        <div className=\"picture-editor-container\">\r\n          <p className=\"picture-editor-title\">Select profile picture:</p>\r\n\r\n          <div className=\"picture-editor-selector\">\r\n\r\n            {this.generatePictureEditorSelectorOptions()}\r\n\r\n          </div>\r\n\r\n          <div className=\"picture-editor-buttons\">\r\n\r\n            <Button\r\n              type='button'\r\n              buttonStyle='primary'\r\n              handleClick={() => this.props.handlePictureChange(this.state.selectedPicture)}\r\n              text='Apply' />\r\n\r\n            <Button\r\n              type='button'\r\n              buttonStyle='secondary'\r\n              handleClick={() => this.props.handleClick('pictureEditorActive')}\r\n              text='Cancel' />\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PictureEditor;","import React, { Component } from 'react';\r\nimport NotificationsBar from './NotificationsBar';\r\nimport PictureEditor from './PictureEditor';\r\nimport '../../styles/layout/header/Header.css';\r\nimport avatar1 from '../../images/avatar1.png';\r\n\r\n\r\nclass Header extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const localStorageHeaderPicture = JSON.parse(localStorage.getItem('headerPicture'));\r\n    this.state = {\r\n      pictureEditorActive: false,\r\n      headerPicture: localStorageHeaderPicture ?? { backgroundImage: `url(${avatar1})` },\r\n    }\r\n  }\r\n\r\n  handleClick = (clickedItem) => {\r\n    this.setState((state) => ({\r\n      [clickedItem]: !state[clickedItem]\r\n    }))\r\n  }\r\n\r\n  handlePictureChange = (selectedPicture) => {\r\n    this.setState({\r\n      headerPicture: selectedPicture,\r\n    });\r\n\r\n    localStorage.setItem('headerPicture', JSON.stringify(selectedPicture));\r\n    this.setState({\r\n      pictureEditorActive: false,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n\r\n        <div className=\"header-container\">\r\n          <div className=\"header-logo\">\r\n            <p>Mailbox</p>\r\n          </div>\r\n          <div className=\"header-content\">\r\n\r\n            <NotificationsBar handleBackgroundChange={this.props.handleBackgroundChange} />\r\n\r\n            <div className=\"header-picture\"\r\n              style={this.state.headerPicture}\r\n              onClick={() => this.handleClick('pictureEditorActive')}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.pictureEditorActive\r\n          ? <PictureEditor\r\n            handleClick={this.handleClick}\r\n            handlePictureChange={this.handlePictureChange} />\r\n          : null}\r\n\r\n      </>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '../../styles/layout/Nav.css';\r\n\r\nconst navItems = [\r\n  { name: 'Inbox', path: '/email/inbox', icon: 'far fa-envelope-open' },\r\n  { name: 'Sent', path: '/email/outbox', icon: 'far fa-paper-plane' },\r\n  { name: 'Drafts', path: '/email/draft', icon: 'fas fa-pencil-ruler' },\r\n  { name: 'Trash', path: '/email/trash', icon: 'far fa-trash-alt' },\r\n  { name: 'Spam', path: '/email/spam', icon: 'fas fa-ban' },\r\n]\r\n\r\nconst NavEmail = () => {\r\n\r\n  const navigation = navItems.map(navItem => (\r\n\r\n    <li key={navItem.name} className='nav-item' title={navItem.name}>\r\n      <NavLink to={navItem.path} className='nav-item-container' >\r\n        <i className={navItem.icon}></i>\r\n        <p>{navItem.name}</p>\r\n      </NavLink>\r\n    </li>\r\n  ))\r\n\r\n  return (\r\n    <>\r\n      <nav className='nav-container'>\r\n        <ul className='nav'>\r\n          <div className='nav-item-btn'>\r\n            <NavLink to='/email/compose/new' exact>\r\n              <i className=\"fas fa-pencil-alt\"></i>\r\n              <p>Compose</p>\r\n            </NavLink>\r\n          </div>\r\n          {navigation}\r\n        </ul>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavEmail;","import React, { Component } from 'react';\r\nimport '../styles/components/Search.css';\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    searchText: ''\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      searchText: event.target.value\r\n    })\r\n  }\r\n\r\n  handleKeyUp = (event) => {\r\n    if (event.keyCode === 13) {\r\n      this.props.handleSearch(event.target.value);\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.props.handleSearch(this.state.searchText);\r\n  }\r\n\r\n  handleClearInput = () => {\r\n    this.setState({\r\n      searchText: '',\r\n    });\r\n    this.props.handleSearch('');\r\n  }\r\n\r\n  clearInput = () => {\r\n    if (this.state.searchText !== '') {\r\n      return <i className=\"fas fa-times\" title='Clear search' onClick={this.handleClearInput}></i>\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"input-search-container\">\r\n          <input\r\n            className=\"input-search\"\r\n            type=\"text\"\r\n            placeholder=\"search...\"\r\n            value={this.state.searchText}\r\n            onChange={event => this.handleChange(event)}\r\n            onKeyUp={event => this.handleKeyUp(event)}\r\n          />\r\n          {this.clearInput()}\r\n          <i className=\"fas fa-search\" title='Search' onClick={() => this.handleClick()}></i>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport '../styles/components/Pager.css';\r\n\r\n\r\nconst Pager = (props) => {\r\n\r\n  const pageNumber = props.pagesCount !== 0 ? props.currentPage : 0;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"pager-container\">\r\n\r\n        <p className=\"pager-location\">page {pageNumber} of {props.pagesCount}</p>\r\n        <button\r\n          className=\"pager-btn\"\r\n          title='Previous'\r\n          onClick={() => props.handlePageChange(-1)}>\r\n          <i className=\"fas fa-chevron-left\" ></i>\r\n        </button>\r\n        <button\r\n          className=\"pager-btn\"\r\n          title='Next'\r\n          onClick={() => props.handlePageChange(1)}>\r\n          <i className=\"fas fa-chevron-right\" ></i>\r\n        </button>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Pager;\r\n","import React, { Component } from 'react';\r\nimport '../styles/components/DateSorting.css';\r\n\r\nclass DateSorting extends Component {\r\n\r\n  state = {\r\n    newestFirst: true,\r\n  }\r\n\r\n  handleDateSorting = () => {\r\n    this.setState(prevState => ({\r\n      newestFirst: !prevState.newestFirst,\r\n    }));\r\n    this.props.handleDateSorting(!this.state.newestFirst);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <>\r\n        <div\r\n          className=\"date-sorting-container\"\r\n          title={this.state.newestFirst ? 'Newest first' : 'Oldest first'}\r\n          onClick={this.handleDateSorting}>\r\n          <i\r\n            className={this.state.newestFirst ? \"fas fa-sort-up date-sorting-up\" : \"fas fa-sort-up date-sorting-down\"}></i>\r\n        </div>\r\n      </>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateSorting;","import React from 'react';\r\nimport '../styles/components/Spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n\r\n    <>\r\n      <div className=\"spinner\">\r\n        <div className=\"lds-css ng-scope\">\r\n          <div className=\"lds-spinner\" style={{ width: '100%', height: '100%' }}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n\r\n  );\r\n}\r\n\r\nexport default Spinner;","export const BASE_URL = `https://catmail.azurewebsites.net`","import { BASE_URL } from '../constants/URL';\r\n\r\nexport class FetchService {\r\n\r\n  constructor() {\r\n    this.controller = new AbortController();\r\n  }\r\n\r\n  useFetch(API, options, successCallback, failureCallback) {\r\n\r\n    options.signal = this.controller.signal;\r\n    API = BASE_URL + API;\r\n\r\n    fetch(API, options)\r\n\r\n      .then(response => {\r\n\r\n        if (response.status === 200) {\r\n          return response;\r\n\r\n        } else if (response.status === 400) {\r\n          response.text()\r\n            .then(text => text ? alert(text) : 'Request is not valid')\r\n          throw Error(response); //użycie throw spowoduje, że obietnica uzyska stan rejected, wywoła się metoda catch\r\n\r\n        } else if (response.status === 401) {\r\n          alert(\"Access to this feature is only for logged users, Unauthorized\");\r\n          throw Error('Error');\r\n\r\n        } else if (response.status === 403) {\r\n          alert(\"Access to this feature has been forbidden, Forbidden\");\r\n          throw Error('Error');\r\n\r\n        } else if (response.status === 404) {\r\n          alert(\"Network location doesn't exist, Page Not Found\");\r\n          throw Error('Error');\r\n\r\n        } else if (response.status === 500) {\r\n          alert(\"Internal Server Error\");\r\n          throw Error('Error');\r\n        }\r\n      })\r\n\r\n      .then(response => response.text())\r\n\r\n      .then(text => text.length > 0 ? JSON.parse(text) : null)\r\n\r\n      .then(data => {\r\n        successCallback(data)\r\n      })\r\n\r\n      .catch(err => {\r\n        console.log(err)\r\n        failureCallback(err);\r\n      })\r\n  }\r\n\r\n\r\n  abortFetch() {\r\n    this.controller.abort();\r\n    console.log(`Fetch aborted`);\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/components/EmailViewTools.css';\r\nimport { FetchService } from '../services/FetchService';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass EmailViewTools extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  handleMoveToFolder = (folderName) => {\r\n    const API = `/api/Emails/${this.props.data.id}/move/${folderName}`;\r\n    const options = { method: 'put' };\r\n    const successCallback = () => {\r\n      this.props.handleDeletingOrMovingEmail();\r\n      toast(`Email moved to ${folderName}`)\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log('Failed to move email. ', err)\r\n      toast.error('Failed to move email')\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  handleRestoreFromFolder = (folderName) => {\r\n    const API = `/api/Emails/${this.props.data.id}/restore/${folderName}`;\r\n    const options = { method: 'put' };\r\n    const successCallback = () => {\r\n      this.props.handleDeletingOrMovingEmail();\r\n      toast('Email restored')\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log('Failed to restore email. ', err);\r\n      toast.error('Failed to restore email')\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  deleteEmail = () => {\r\n    const API = `/api/Emails/${this.props.data.id}`;\r\n    const options = { method: 'delete' }\r\n\r\n    const successCallback = () => {\r\n      this.props.handleDeletingOrMovingEmail();\r\n      toast(\"Email deleted\");\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log('Failed to delete email. ', err);\r\n      toast.error(\"Failed to delete email\");\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  render() {\r\n    const id = this.props.data.id;\r\n    const currentFolder = this.props.currentFolder;\r\n\r\n    const selectButtons = {\r\n      reply: ['inbox', 'outbox', 'trash', 'spam'].includes(currentFolder) ? true : false,\r\n      replyAll: ['inbox', 'outbox', 'trash', 'spam'].includes(currentFolder) ? true : false,\r\n      forward: ['inbox', 'outbox', 'trash', 'spam'].includes(currentFolder) ? true : false,\r\n      edit: ['draft'].includes(currentFolder) ? true : false,\r\n      moveToSpam: ['inbox'].includes(currentFolder) ? true : false,\r\n      moveToTrash: ['inbox', 'outbox', 'spam'].includes(currentFolder) ? true : false,\r\n      restoreFromTrash: ['trash'].includes(currentFolder) ? true : false,\r\n      restoreFromSpam: ['spam'].includes(currentFolder) ? true : false,\r\n      deleteEmail: ['draft', 'trash'].includes(currentFolder) ? true : false,\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className=\"email-view-tools-container\">\r\n\r\n          {selectButtons.reply && <Link to={`/email/compose/new?id=${id}&responsetype=reply`}>\r\n            <div className=\"email-view-tools\" title=\"Reply\">\r\n              <i className=\"fas fa-reply\"></i>\r\n            </div>\r\n          </Link>}\r\n\r\n          {selectButtons.replyAll && <Link to={`/email/compose/new?id=${id}&responsetype=replyall`}>\r\n            <div className=\"email-view-tools\" title=\"Reply to all\">\r\n              <i className=\"fas fa-reply-all\"></i>\r\n            </div>\r\n          </Link>}\r\n\r\n          {selectButtons.forward && <Link to={`/email/compose/new?id=${id}&responsetype=forward`}>\r\n            <div className=\"email-view-tools\" title=\"Forward\">\r\n              <i className=\"fas fa-share\"></i>\r\n            </div>\r\n          </Link>}\r\n\r\n          {selectButtons.edit && <Link to={`/email/compose/new?id=${id}&responsetype=edit`}>\r\n            <div className=\"email-view-tools\" title=\"Edit\">\r\n              <i className=\"far fa-edit\"></i>\r\n            </div>\r\n          </Link>}\r\n\r\n          {selectButtons.moveToSpam && <div\r\n            className=\"email-view-tools\"\r\n            title=\"Move to spam\"\r\n            onClick={() => this.handleMoveToFolder('spam')}>\r\n            <i className='fas fa-ban'></i>\r\n          </div>}\r\n\r\n          {selectButtons.restoreFromTrash && <div\r\n            className=\"email-view-tools\"\r\n            title=\"Restore to original folder\"\r\n            onClick={() => this.handleRestoreFromFolder('trash')}>\r\n            <i className=\"fas fa-trash-restore\"></i>\r\n          </div>}\r\n\r\n          {selectButtons.restoreFromSpam && <div\r\n            className=\"email-view-tools\"\r\n            title=\"Restore to Inbox\"\r\n            onClick={() => this.handleRestoreFromFolder('spam')}>\r\n            <i className=\"fas fa-trash-restore\"></i>\r\n          </div>}\r\n\r\n          {selectButtons.moveToTrash && <div\r\n            className=\"email-view-tools\"\r\n            title=\"Move to trash\"\r\n            onClick={() => this.handleMoveToFolder('trash')}>\r\n            <i className='far fa-trash-alt'></i>\r\n          </div>}\r\n\r\n          {selectButtons.deleteEmail && <div\r\n            className=\"email-view-tools\"\r\n            title=\"Delete\"\r\n            onClick={this.deleteEmail}>\r\n            <i className=\"far fa-times-circle\"></i>\r\n          </div>}\r\n\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default EmailViewTools;","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Search from '../../components/Search';\r\nimport Pager from '../../components/Pager';\r\nimport DateSorting from '../../components/DateSorting';\r\nimport Spinner from '../../components/Spinner';\r\nimport parse from 'html-react-parser';\r\nimport EmailViewTools from '../../components/EmailViewTools';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport { dateFormatter } from '../../tools/DateFormatter';\r\nimport '../../styles/email/EmailList.css';\r\n\r\n\r\nclass Email extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: null,\r\n      skip: 0,\r\n      take: 20,\r\n      currentPage: 1,\r\n      pagesCount: null,\r\n      searchText: '',\r\n      newestFirst: true,\r\n      showSpinner: true,\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  renderSpinner = () => {\r\n    this.setState({\r\n      showSpinner: true,\r\n    })\r\n  }\r\n\r\n  fetchData(folder, skip, take, searchText, newestFirst) {\r\n    this.renderSpinner();\r\n\r\n    const API = `/api/folders/${folder}/emails?skip=${skip}&take=${take}&searchText=${searchText}&newestFirst=${newestFirst}`;\r\n    const options = { method: 'get' };\r\n\r\n    const successCallback = (data) => {\r\n      const pagesCount = Math.ceil(data.itemsCount / take);\r\n      this.setState({\r\n        data,\r\n        pagesCount,\r\n        showSpinner: false,\r\n      });\r\n    };\r\n\r\n    const failureCallback = (err) => {\r\n      console.log(err, err.name);\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  handlePageChange = (value) => {\r\n    const { take, currentPage, pagesCount, searchText, newestFirst } = this.state;\r\n    if (currentPage + value >= 1 && currentPage + value <= pagesCount) {\r\n      const newCurrentPage = currentPage + value;\r\n      const newSkip = (newCurrentPage - 1) * take;\r\n\r\n      this.setState({\r\n        currentPage: newCurrentPage,\r\n        skip: newSkip,\r\n      })\r\n\r\n      const folder = this.props.match.params.folder;\r\n      this.fetchData(folder, newSkip, take, searchText, newestFirst);\r\n    }\r\n  }\r\n\r\n  handleSearch = (value) => {\r\n    this.setState({\r\n      searchText: value,\r\n    });\r\n\r\n    const folder = this.props.match.params.folder;\r\n    const { skip, take, newestFirst } = this.state;\r\n    this.fetchData(folder, skip, take, value, newestFirst);\r\n  }\r\n\r\n  handleDateSorting = (value) => {\r\n    this.setState({\r\n      newestFirst: value,\r\n    });\r\n\r\n    const folder = this.props.match.params.folder;\r\n    const { skip, take, searchText } = this.state;\r\n    this.fetchData(folder, skip, take, searchText, value);\r\n  }\r\n\r\n  handleDeletingOrMovingEmail = () => {\r\n    if (this.state.data.items.length === 1 && this.state.pagesCount > 1) {\r\n      this.setState(prevState => ({\r\n        currentPage: prevState.currentPage - 1,\r\n      }))\r\n    };\r\n\r\n    const folder = this.props.match.params.folder;\r\n    const { currentPage, take, searchText, newestFirst } = this.state;\r\n    const newSkip = (currentPage - 1) * take;\r\n    this.fetchData(folder, newSkip, take, searchText, newestFirst);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const folder = this.props.match.params.folder;\r\n    const { skip, take, searchText, newestFirst } = this.state;\r\n    this.fetchData(folder, skip, take, searchText, newestFirst);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.folder !== prevProps.match.params.folder) {\r\n      this.setState({\r\n        currentPage: 1,\r\n      });\r\n      const folder = this.props.match.params.folder;\r\n      const { take, searchText, newestFirst } = this.state;\r\n      this.fetchData(folder, 0, take, searchText, newestFirst);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  renderEmailsTable() {\r\n    if (this.state.data === null) return;\r\n\r\n    const { items } = this.state.data;\r\n    const currentFolder = this.props.match.params.folder;\r\n\r\n    if (items.length === 0) return `This list is empty`;\r\n\r\n    const emailsTable = items.map(item => (\r\n\r\n      <div className='emails-table-row' key={item.id}>\r\n\r\n        <NavLink to={`/email/${currentFolder}/viewemail/${item.id}`} >\r\n\r\n          <div className='emails-table emails-table-from'>\r\n            <div className=\"emails-table-cell\">\r\n              <p>\r\n                {['outbox', 'draft'].includes(currentFolder) ?\r\n                  item.to.map(item => `${item.address} `) : item.from.address}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className='emails-table emails-table-title'>\r\n            <div className=\"emails-table-cell\">{item.title}</div>\r\n          </div>\r\n          <div className='emails-table emails-table-content'>\r\n            {/* NIE DZIAŁA INNERTEXT DLA PONIŻSZEGO: */}\r\n            <div className=\"emails-table-cell\">{parse(item.content)}</div>\r\n          </div>\r\n          <div className='emails-table emails-table-date'>\r\n            <div className=\"emails-table-cell\">{dateFormatter(new Date(item.date))}</div>\r\n          </div>\r\n\r\n        </NavLink>\r\n\r\n        <div className=\"emails-table-item emails-table-tools\">\r\n          <div className=\"emails-table-cell\">\r\n\r\n            <EmailViewTools\r\n              data={item}\r\n              handleDeletingOrMovingEmail={this.handleDeletingOrMovingEmail}\r\n              currentFolder={currentFolder}\r\n            />\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n    return emailsTable;\r\n  }\r\n\r\n  render() {\r\n\r\n    const { pagesCount, currentPage } = this.state;\r\n    const currentFolder = this.props.match.params.folder;\r\n\r\n    return (\r\n      <>\r\n        <div className=\"tools-container\">\r\n          <div className=\"search\">\r\n            {<Search\r\n              handleSearch={this.handleSearch}\r\n            />}\r\n          </div>\r\n          <div className=\"pager\">\r\n            {<Pager\r\n              pagesCount={pagesCount}\r\n              currentPage={currentPage}\r\n              handlePageChange={this.handlePageChange}\r\n            />}</div>\r\n        </div>\r\n\r\n        <div className='emails-table-header'>\r\n          <div className=\"emails-table-header-item emails-table-header-from\">\r\n            {['outbox', 'draft'].includes(currentFolder) ? 'To' : 'From'}\r\n          </div>\r\n\r\n          <div className=\"emails-table-header-item emails-table-header-title\">Title</div>\r\n          <div className=\"emails-table-header-item emails-table-header-content\">Content</div>\r\n          <div className='emails-table-header-item emails-table-header-date'>Date\r\n          {<DateSorting\r\n              handleDateSorting={this.handleDateSorting}\r\n            />}\r\n          </div>\r\n        </div>\r\n\r\n        <div className='emails-table-container'>\r\n          {this.renderEmailsTable()}\r\n          {this.state.showSpinner && <Spinner />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Email;","export const dateFormatter = (date) => {\r\n  const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n  const currentDate = new Date();\r\n\r\n  const minutes = date.getMinutes();\r\n  const hours = date.getHours();\r\n  const day = date.getDate();\r\n  const month = monthNames[date.getMonth()];\r\n  const year = date.getFullYear();\r\n\r\n  let formattedDate = null;\r\n  if (currentDate.getDate() === day && monthNames[currentDate.getMonth()] === month && currentDate.getFullYear() === year) {\r\n    formattedDate = `${hours}:${minutes.toString().padStart(2, '0')}`\r\n  } else if (currentDate.getFullYear() === year) {\r\n    formattedDate = `${day} ${month}`\r\n  } else if (currentDate.getFullYear() !== year) {\r\n    formattedDate = `${day}/${month}/${year}`\r\n  };\r\n\r\n  return formattedDate;\r\n}","import React from 'react';\r\nimport '../styles/components/FormInputErrMsg.css';\r\n\r\nconst FormInputErrMsg = (props) => {\r\n\r\n  return (\r\n    <span className='form-input-error-msg'>{props.errMsg}</span>\r\n  );\r\n}\r\n\r\nexport default FormInputErrMsg;","import React, { Component } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { Link, Prompt, Redirect } from 'react-router-dom';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport { emailResponseQuotationHelper, stateUpdateBasedOnResponseType } from '../../tools/EmailResponseHelper';\r\nimport '../../styles/email/EmailCompose.css';\r\nimport Button from '../../components/Button';\r\nimport FormInputErrMsg from '../../components/FormInputErrMsg';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass EmailCompose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      address: '',\r\n      addressCC: '',\r\n      addressBCC: '',\r\n      subject: '',\r\n      content: '',\r\n\r\n      errors: {\r\n        address: false,\r\n        addressCC: false,\r\n        addressBCC: false,\r\n        subject: false,\r\n        content: false,\r\n      },\r\n\r\n      redirectToDrafts: false,\r\n      redirectToInbox: false,\r\n    }\r\n\r\n    this.validationErrorMessages = {\r\n      addressIncorrect: 'Enter a valid e-mail address',\r\n      subjectIncorrect: 'Subject is required',\r\n      contentIncorrect: 'Content is required',\r\n    }\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  handleValidation = () => {\r\n\r\n    let address = false;\r\n    let addressCC = false;\r\n    let addressBCC = false;\r\n    let subject = false;\r\n    let content = false;\r\n    let correct = false;\r\n\r\n    if (this.state.address.indexOf('@') !== -1) {\r\n      address = true;\r\n    }\r\n\r\n    if (this.state.addressCC === '' || this.state.addressCC.indexOf('@') !== -1) {\r\n      addressCC = true;\r\n    }\r\n\r\n    if (this.state.addressBCC === '' || this.state.addressBCC.indexOf('@') !== -1) {\r\n      addressBCC = true;\r\n    }\r\n\r\n    if (this.state.subject.length > 0) {\r\n      subject = true;\r\n    }\r\n\r\n    if (this.state.content.length > 0) {\r\n      content = true;\r\n    }\r\n\r\n    if (address && addressCC && addressBCC && subject && content) {\r\n      correct = true;\r\n    }\r\n\r\n    return ({\r\n      address,\r\n      addressCC,\r\n      addressBCC,\r\n      subject,\r\n      content,\r\n      correct,\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    })\r\n\r\n    this.setState({\r\n      errors: {\r\n        address: false,\r\n        addressCC: false,\r\n        addressBCC: false,\r\n        subject: false,\r\n        content: false,\r\n      }\r\n    })\r\n  }\r\n\r\n  handleEditorChange = (content) => {\r\n    this.setState({ content });\r\n  }\r\n\r\n  createJSON = () => {\r\n    const { address, addressCC, addressBCC, subject, content } = this.state;\r\n\r\n    const data = {\r\n      title: subject,\r\n      content: content,\r\n      from: \"sender@catmail.test.com.pl\",\r\n      to: address.split(', '),\r\n      cc: addressCC.split(', '),\r\n      bcc: addressBCC.split(', ')\r\n    };\r\n\r\n    return JSON.stringify(data);\r\n  }\r\n\r\n  handleSend = (event) => {\r\n    event.preventDefault();\r\n\r\n    const validation = this.handleValidation();\r\n\r\n    if (validation.correct) {\r\n      this.setState({\r\n        errors: {\r\n          address: false,\r\n          addressCC: false,\r\n          addressBCC: false,\r\n          subject: false,\r\n          content: false,\r\n        }\r\n      })\r\n\r\n      const API = `/api/emails/send`;\r\n      const options = {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json, text/plain, */*',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: this.createJSON(),\r\n      };\r\n      const successCallback = () => {\r\n        this.setState({\r\n          redirectToInbox: true,\r\n        });\r\n        toast('Email sent');\r\n      }\r\n      const failureCallback = (error) => {\r\n        console.log('Request failed', error);\r\n        toast.error('Failed to send email');\r\n      }\r\n\r\n      this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n    }\r\n\r\n    else {\r\n      this.setState({\r\n        errors: {\r\n          address: !validation.address,\r\n          addressCC: !validation.addressCC,\r\n          addressBCC: !validation.addressBCC,\r\n          subject: !validation.subject,\r\n          content: !validation.content,\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSaveAsDraft = (event) => {\r\n    event.preventDefault();\r\n\r\n    const API = `/api/emails/draft`;\r\n    const options = {\r\n      method: 'post',\r\n      headers: {\r\n        'Accept': 'application/json, text/plain, */*',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: this.createJSON(),\r\n    };\r\n    const successCallback = () => {\r\n      this.setState({\r\n        redirectToDrafts: true,\r\n      })\r\n      toast('Saved as draft');\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log('Request failed', err);\r\n      toast.error('Failed to save as draft');\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = new URLSearchParams(this.props.location.search).get('id');\r\n    const responsetype = new URLSearchParams(this.props.location.search).get('responsetype');\r\n    const address = new URLSearchParams(this.props.location.search).get('address');\r\n    const API = `/api/emails/${id}`;\r\n    const options = { method: 'get' };\r\n    let emailResponseQuotation;\r\n\r\n    const successCallback = (data) => {\r\n      emailResponseQuotation = emailResponseQuotationHelper(data);\r\n      this.setState(stateUpdateBasedOnResponseType(responsetype, emailResponseQuotation));\r\n    };\r\n\r\n    const failureCallback = (err) => {\r\n      console.log(err)\r\n    };\r\n\r\n    if (id) {\r\n      this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n    };\r\n\r\n    if (address) {\r\n      this.setState({\r\n        address,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.redirectToDrafts) {\r\n      return <Redirect to='/email/draft' />\r\n    }\r\n\r\n    if (this.state.redirectToInbox) {\r\n      return <Redirect to='/email/inbox' />\r\n    }\r\n\r\n    const { addressIncorrect, subjectIncorrect, contentIncorrect } = this.validationErrorMessages;\r\n\r\n    return (\r\n      <>\r\n        <div className=\"email-compose-container\">\r\n\r\n          <form className=\"email-compose-form\">\r\n            <div className=\"email-compose-form-header\">\r\n              <input type=\"text\"\r\n                name=\"address\"\r\n                placeholder=\"To\"\r\n                autoComplete='false'\r\n                onChange={this.handleChange}\r\n                value={this.state.address}\r\n              />\r\n              {this.state.errors.address && <FormInputErrMsg errMsg={addressIncorrect} />}\r\n\r\n              <input type=\"text\"\r\n                name=\"addressCC\"\r\n                placeholder=\"CC\"\r\n                autoComplete='false2'\r\n                onChange={this.handleChange}\r\n                value={this.state.addressCC}\r\n              />\r\n              {this.state.errors.addressCC && <FormInputErrMsg errMsg={addressIncorrect} />}\r\n\r\n              <input type=\"text\"\r\n                name=\"addressBCC\"\r\n                placeholder=\"BCC\"\r\n                autoComplete='false3'\r\n                onChange={this.handleChange}\r\n                value={this.state.addressBCC}\r\n              />\r\n              {this.state.errors.addressBCC && <FormInputErrMsg errMsg={addressIncorrect} />}\r\n\r\n              <input type=\"text\"\r\n                name=\"subject\"\r\n                placeholder=\"Subject\"\r\n                autoComplete='false4'\r\n                onChange={this.handleChange}\r\n                value={this.state.subject}\r\n              />\r\n              {this.state.errors.subject && <FormInputErrMsg errMsg={subjectIncorrect} />}\r\n\r\n            </div>\r\n            <div className=\"email-compose-form-content\">\r\n              <Editor\r\n                apiKey=\"bjuvt5iln6j3ymf2uwsfx02kslovxyhomp0nnkbgm47yvtbl\"\r\n                init={{ plugins: 'link table' }}\r\n                onEditorChange={this.handleEditorChange}\r\n                textareaName=\"content\"\r\n                className=\"email-compose-form-editor\"\r\n                value={this.state.content}\r\n              />\r\n              {/* {this.state.errors.content &&\r\n                <span className=\"email-compose-error-message\">{this.validationErrorMessages.contentIncorrect}</span>} */}\r\n              {this.state.errors.content && <FormInputErrMsg errMsg={contentIncorrect} />}\r\n            </div>\r\n            <div className=\"email-compose-form-buttons\">\r\n\r\n              <Button\r\n                type='button'\r\n                buttonStyle='primary'\r\n                handleClick={this.handleSend}\r\n                text='Send' />\r\n\r\n              <Button\r\n                type='button'\r\n                buttonStyle='secondary'\r\n                handleClick={this.handleSaveAsDraft}\r\n                text='Save as draft' />\r\n\r\n              <Prompt\r\n                when={true}\r\n                message={'Are you sure you want to cancel?'}\r\n              />\r\n              <Link to='/email/inbox'>\r\n                <Button\r\n                  type='button'\r\n                  buttonStyle='secondary'\r\n                  text='Cancel' />\r\n              </Link>\r\n\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EmailCompose;","export const emailResponseQuotationHelper = (emailData) => {\r\n  return {\r\n    subject: emailData.title,\r\n    subjectRE: `RE: ${emailData.title}`,\r\n    subjectFWD: `FWD: ${emailData.title}`,\r\n    address: emailData.from.address,\r\n    addressTO: emailData.to.map(obj => obj.address).join(', '),\r\n    addressCC: emailData.cc.map(obj => obj.address).join(', '),\r\n    addressBCC: emailData.bcc.map(obj => obj.address).join(', '),\r\n    content: emailData.content,\r\n    contentQuotation:\r\n      `<br><br>\r\n              <hr>\r\n              From: ${emailData.from.address}<br>\r\n              CC: ${emailData.cc.map(obj => obj.address).join(', ')}<br>\r\n              Received: ${new Date(emailData.date).toLocaleString()}<br><br>\r\n              ${emailData.content}`,\r\n  }\r\n}\r\n\r\n\r\nexport const stateUpdateBasedOnResponseType = (responsetype, emailResponseQuotation) => {\r\n  const { subject, subjectRE, subjectFWD, address, addressTO, addressCC, addressBCC, content, contentQuotation } = emailResponseQuotation;\r\n\r\n  if (responsetype === 'reply') {\r\n    return {\r\n      address,\r\n      subject: subjectRE,\r\n      content: contentQuotation,\r\n    }\r\n  } else if (responsetype === 'replyall') {\r\n    return {\r\n      address,\r\n      addressCC: addressTO + ', ' + addressCC,\r\n      subject: subjectRE,\r\n      content: contentQuotation,\r\n    }\r\n  } else if (responsetype === 'forward') {\r\n    return {\r\n      subject: subjectFWD,\r\n      content: contentQuotation,\r\n    }\r\n  } else if (responsetype === 'edit') {\r\n    return {\r\n      address: addressTO,\r\n      addressCC,\r\n      addressBCC,\r\n      subject,\r\n      content: content,\r\n    }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport EmailViewTools from '../../components/EmailViewTools';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport parse from 'html-react-parser';\r\n\r\nimport '../../styles/email/EmailView.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nclass EmailView extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: null,\r\n      redirectToFolder: false,\r\n    }\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  handleDeletingOrMovingEmail = () => {\r\n    const folder = this.props.match.params.folder;\r\n    this.setState({\r\n      redirectToFolder: folder,\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    const API = `/api/emails/${id}`;\r\n    const options = { method: 'get' };\r\n    const successCallback = (data) => {\r\n      this.setState({ data });\r\n    }\r\n    const failureCallback = (err) => {\r\n      console.log(err)\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  renderEmailContent() {\r\n    const { data } = this.state;\r\n    if (data === null) return;\r\n\r\n    const currentFolder = this.props.match.params.folder;\r\n\r\n    const emailContent = (\r\n      <>\r\n        <div className=\"email-view-container\">\r\n\r\n          <EmailViewTools\r\n            data={data}\r\n            handleDeletingOrMovingEmail={this.handleDeletingOrMovingEmail}\r\n            currentFolder={currentFolder}\r\n          />\r\n\r\n          <h1 className=\"email-view-title\">{data.title}</h1>\r\n\r\n          <header className=\"email-view-header\">\r\n            <div className=\"email-view-header-from\">From: {data.from.address}</div>\r\n            <div className=\"email-view-header-to\">To: {data.to.map(item => item.address)}</div>\r\n            <div className=\"email-view-header-toCC\">CC: {data.cc.map(obj => obj.address).join(', ')}</div>\r\n            <div className=\"email-view-header-date\">Date: {new Date(data.date).toLocaleString()}</div>\r\n          </header>\r\n\r\n          <main className=\"email-view-main-container\">\r\n            <div className=\"email-view-main\">{parse(data.content)}</div>\r\n          </main>\r\n        </div>\r\n      </>\r\n    );\r\n\r\n    return emailContent;\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    if (this.state.redirectToFolder) {\r\n      return <Redirect to={`/email/${this.state.redirectToFolder}`} />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {this.renderEmailContent()}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EmailView;","import React from 'react';\r\nimport '../styles/layout/Error.css';\r\n\r\nconst Error = () => {\r\n  return (\r\n    <div className=\"error-page\">\r\n      <i className=\"fas fa-exclamation-triangle\"></i>\r\n      <p className=\"error-page-notification\">This page does not exist.</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport EmailList from './EmailList';\r\nimport EmailCompose from './EmailCompose';\r\nimport EmailView from './EmailView';\r\nimport Error from '../../layout/Error';\r\n\r\n\r\nconst EmailPage = () => {\r\n\r\n  return (\r\n    <>\r\n\r\n      <Switch>\r\n        <Route path='/email/:folder' exact component={EmailList} />\r\n        <Route path='/email/:folder/viewemail/:id' exact component={EmailView} />\r\n        <Route path='/email/compose/new' component={EmailCompose} />\r\n\r\n        <Route component={Error} />\r\n\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EmailPage;","import React from 'react';\r\nimport EmailNav from './EmailNav';\r\nimport EmailPage from './EmailPage';\r\nimport '../../styles/layout/Content.css';\r\n\r\nconst Email = () => {\r\n  return (\r\n    <>\r\n\r\n      <div className=\"navigation\"> {<EmailNav />} </div>\r\n      <div className=\"page\"> {<EmailPage />}</div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Email;","// Klasa Validator, której obiektów będziemy używać do walidacji formularzy\r\nexport class Validator {\r\n\r\n  // Konstruktor klasy Validator. W parametrze 'validationConfigs' podajemy tablicę obiektów\r\n  // typu ValidationConfig które przechowują informację o tym jakie pola walidujemy\r\n  // oraz listę funkcji walidujących dla zdefiniowanych pól\r\n  constructor(validationConfigs) {\r\n    this.validationConfigs = validationConfigs;\r\n  }\r\n\r\n  // Metoda do której przekazujemy obiekt który następnie będzie zwalidowany za pomocą funkcji\r\n  // zdefiniowanych w konfiguracji. Zwraca obiekt typu ValidationResult\r\n  validate(data) {\r\n\r\n    let isValid = true;\r\n    let errorMessages = {}; // obiekt zawierający listę błędów walidacyjnych np: { \"title\": \"title is not valid\"}\r\n\r\n    // Dla każdej nazwy pola (item) w obiekcie data\r\n    for (let item in data) {\r\n\r\n      if (data.hasOwnProperty(item)) { // sprawdza czy to pole faktycznie znajduje się w tym obiekcie\r\n\r\n        // Znajdujemy na liście konfiguracji, tą która jest zdefiniowana dla pola o nazwie określonej w zmiennej 'item'\r\n        const config = this.validationConfigs.find(e => e.fieldName === item)\r\n        if (config) {\r\n\r\n          // Dla każdej funkcji walidacyjnej w konfiguracji dla tego pola\r\n          for (let validationFunc of config.validationFunctionList) {\r\n\r\n            const valFuncErrorMessage = validationFunc(data, item); // Wywołujemu tą funkcję... ważne aby wszystkie funkcje tego typu miały takie same parametry\r\n\r\n            // Jeśli zwrócono komunikat walidacyjny to wtedy obiekt jest niepoprawny oraz dodajemy komunikat do obiektu z błędami walidacji\r\n            if (valFuncErrorMessage !== undefined && valFuncErrorMessage !== null && valFuncErrorMessage !== \"\") {\r\n              isValid = false;\r\n              errorMessages[item] = valFuncErrorMessage;\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return new ValidationResult(isValid, errorMessages)\r\n  }\r\n}\r\n\r\n// Klasa ValidationConfig zawiera konfigurację walidacji dla pojedynczego pola\r\n// którego nazwa znajduje się w polu 'fieldName'. Natomiast w polu 'validationFunctionList'\r\n// znajduje się tablica rodziny funkcji o sygnaturze (obj, fieldName) które będą użyte do\r\n// walidacji pola o tej nazwie.\r\n// - fieldName - nazwa pola dla którego określamy konfigurację\r\n// - validationFunctionList - lista funkcji za pomocą których pole będzie walidowane\r\nexport class ValidationConfig {\r\n  constructor(fieldName, validationFunctionList) {\r\n    this.fieldName = fieldName;\r\n    this.validationFunctionList = validationFunctionList;\r\n  }\r\n}\r\n\r\n// Klasa ValidationResult zawiera informacje o wyniku walidacji obiektu\r\n// - isValid - pole to określa czy obiekt jest poprawny czy nie\r\n// - errorMessages - obiekt który zawiera listę komunikatów błędów\r\nclass ValidationResult {\r\n\r\n  constructor(isValid, errorMessages) {\r\n    this.isValid = isValid;\r\n    this.errorMessages = errorMessages;\r\n  }\r\n\r\n  getErrorMessage(fieldName) {\r\n    return this.errorMessages[fieldName];\r\n  }\r\n}\r\n//-------------------FUNKCJE WALIDUJĄCE------------------------------//\r\n// Funkcja o parametrach (obj, fieldName) służąca do sprawdzenia czy pole 'fieldName' w obiekcie 'obj' jest wypełnione.\r\n// Jeśli nie jest to zwraca komunikat błędu walidacji.\r\nexport function validateRequired(obj, fieldName) {\r\n  if (obj[fieldName] === undefined || obj[fieldName] === null || obj[fieldName] === \"\") {\r\n    return `${fieldName} is required`\r\n  }\r\n}\r\n\r\n// Funkcja o parametrach (obj, fieldName) służąca do sprawdzenia czy pole 'fieldName' w obiekcie 'obj' zawiera\r\n// maksymalną ilość znaków (10).\r\n// Jeśli nie to zwraca komunikat błędu walidacji.\r\n//Funkcja wymaga więcej parametrów, żeby je przekazać poprawnie musimy stworzyć funkcję opakowującą, która zwraca funkcję z odpowiednią liczbą parametrów.\r\nfunction validateMaxLenght(obj, fieldName, maxLenght) {\r\n  if (obj[fieldName].length > maxLenght) {\r\n    return `maximum length: ${maxLenght} characters`\r\n  }\r\n}\r\n\r\nexport function useValidateMaxLenght(maxLenght) {\r\n  return (obj, fieldName) => validateMaxLenght(obj, fieldName, maxLenght);\r\n}\r\n\r\n//Funkcja sprawdzająca, czy godzina 'do' jest większa od godziny 'od'\r\n\r\nfunction validateTimeValues(obj, fieldname, taskStartTimeValue) {\r\n  if (obj[fieldname] < taskStartTimeValue) {\r\n    return `invalid time range`\r\n  }\r\n}\r\n\r\nexport function useValidateTimeValues(taskStartTimeValue) {\r\n  return (obj, fieldname) => validateTimeValues(obj, fieldname, taskStartTimeValue)\r\n}","import React from 'react';\r\n\r\nexport const handleCalendarScrollTop = (selector) => {\r\n  const element = document.querySelector(selector);\r\n  const currentHour = new Date().getHours();\r\n  const pixelsToScroll = currentHour * 60 - 70;\r\n\r\n  element.scrollTop = pixelsToScroll;\r\n}\r\n\r\nexport const dayOftheWeekMap = {\r\n  0: 7,\r\n  1: 1,\r\n  2: 2,\r\n  3: 3,\r\n  4: 4,\r\n  5: 5,\r\n  6: 6\r\n}\r\n\r\nexport const generateDivs = (divscCount, divsClass, ifClock) => {\r\n  let divs = [];\r\n  for (let i = 0; i < divscCount; i++) {\r\n    divs.push(<div key={i} className={divsClass}>{ifClock ? `${i + 1}:00` : null}</div>)\r\n  }\r\n  return divs;\r\n}\r\n\r\nexport const getFirstDayOfWeek = (date) => {\r\n  const dateWeekDay = date.getDay();\r\n  let newDate = new Date(date);\r\n  newDate.setDate(date.getDate() - dayOftheWeekMap[dateWeekDay] + 1);\r\n  return newDate;\r\n}\r\n\r\nexport const getLastDayOfWeek = (date) => {\r\n  const dateWeekDay = date.getDay();\r\n  let newDate = new Date(date);\r\n  newDate.setDate(date.getDate() + (7 - dayOftheWeekMap[dateWeekDay]));\r\n  return newDate;\r\n}\r\n\r\nexport const generateTitleDivs = (divsCount, divsClass, selectedDate) => {\r\n  let divs = [];\r\n  const monday = new Date(getFirstDayOfWeek(selectedDate));\r\n  const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\n  for (let i = 0; i < divsCount; i++) {\r\n    const fullDate = new Date(new Date(monday).setDate(monday.getDate() + i));\r\n    const day = fullDate.getDate();\r\n    const month = monthNames[fullDate.getMonth()];\r\n    divs.push(<div key={i} className={divsClass}>{day} {month.toUpperCase()}</div>)\r\n  }\r\n  return divs;\r\n}\r\n\r\nexport const getWeekDayName = (date) => {\r\n  const weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n  const day = date.getDay();\r\n  return weekdays[day];\r\n}\r\n\r\nexport const getWeekDateRange = (date) => {\r\n  let from = new Date(date);\r\n  from = getFirstDayOfWeek(from);\r\n  from.setHours(0, 0, 0, 0);\r\n  from = from.toISOString();\r\n\r\n  let to = new Date(date);\r\n  to = getLastDayOfWeek(to);\r\n  to.setHours(23, 59, 59, 999);\r\n  to = to.toISOString();\r\n  return [from, to];\r\n}\r\n\r\nexport const getDayDateRange = (date) => {\r\n  let from = new Date(date);\r\n  from.setHours(0, 0, 0, 0);\r\n  from = from.toISOString();\r\n\r\n  let to = new Date(date);\r\n  to.setHours(23, 59, 59, 999);\r\n  to = to.toISOString();\r\n  return [from, to];\r\n}\r\n\r\nexport const generateTimeOptions = () => {\r\n  const time = [];\r\n  for (let i = 0; i < 24; i++) {\r\n    let fullTime = null;\r\n    let halfTime = null;\r\n    if (i < 10) {\r\n      fullTime = `0${i}:00`;\r\n      halfTime = `0${i}:30`;\r\n    } else {\r\n      fullTime = `${i}:00`;\r\n      halfTime = `${i}:30`;\r\n    }\r\n    time.push(fullTime, halfTime)\r\n  }\r\n  time.push(`23:59`);\r\n\r\n  const options = time.map(option => (\r\n    <option key={option} value={option}>{option}</option>\r\n  ));\r\n\r\n  return options;\r\n}\r\n\r\nexport const getISODateFromSelectedDateAndTime = (date, timeOption) => {\r\n  let dateObj = new Date(date);\r\n  const timeOptionArr = timeOption.split(':');\r\n  dateObj.setHours(timeOptionArr[0], timeOptionArr[1], 0, 0);\r\n  dateObj.toISOString();\r\n\r\n  return dateObj;\r\n}\r\n","import React, { Component } from 'react';\r\nimport '../../styles/calendar/CalendarNewTask.css';\r\nimport {\r\n  Validator,\r\n  validateRequired,\r\n  useValidateMaxLenght,\r\n  useValidateTimeValues,\r\n  ValidationConfig,\r\n} from \"../../tools/Validator\";\r\nimport DatePicker from 'react-date-picker';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport {\r\n  generateTimeOptions,\r\n  getISODateFromSelectedDateAndTime\r\n} from '../../tools/CalendarHelper';\r\nimport Button from '../../components/Button';\r\nimport FormInputErrMsg from '../../components/FormInputErrMsg';\r\n\r\nclass CalendarNewTask extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: null,\r\n      title: '',\r\n      date: new Date(),\r\n      start: '12:00',\r\n      end: '12:30',\r\n      description: '',\r\n      validationResult: null,\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const value = event.target.value;\r\n    const name = event.target.name;\r\n    this.setState({\r\n      [name]: value,\r\n      validationResult: null,\r\n    })\r\n  }\r\n\r\n  handleDatePickerChange = (date) => {\r\n    this.setState({ date });\r\n  }\r\n\r\n  handleSave = (event) => {\r\n    event.preventDefault();\r\n    const { id, title, date, start, end, description } = this.state;\r\n\r\n    const dateTimeStart = getISODateFromSelectedDateAndTime(date, start);\r\n    const dateTimeEnd = getISODateFromSelectedDateAndTime(date, end);\r\n\r\n    const dataJSON = JSON.stringify({\r\n      dateTimeStart: dateTimeStart,\r\n      dateTimeEnd: dateTimeEnd,\r\n      title: title,\r\n      notes: description\r\n    });\r\n\r\n    const validationConfigs = [\r\n      new ValidationConfig('title', [validateRequired, useValidateMaxLenght(20)]),\r\n      new ValidationConfig('date', [validateRequired]),\r\n      new ValidationConfig('start', [validateRequired]),\r\n      new ValidationConfig('end', [validateRequired, useValidateTimeValues(start)]),\r\n    ];\r\n\r\n    const validationResult = new Validator(validationConfigs).validate(this.state);\r\n    this.setState({\r\n      validationResult\r\n    });\r\n\r\n    if (validationResult.isValid) {\r\n      const API = id ? `/api/calendar/${id}` : `/api/calendar`;\r\n      const options = {\r\n        method: id ? 'put' : 'post',\r\n        headers: {\r\n          'Accept': 'application/json, text/plain, */*',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: dataJSON,\r\n      };\r\n\r\n      const successCallback = () => {\r\n        this.props.handleCancelBtn();\r\n        if (this.props.task !== undefined) {\r\n          this.props.handleUpdateData();\r\n        }\r\n        if (this.props.performCalendarTaskListUpdateHandler !== undefined) {\r\n          this.props.performCalendarTaskListUpdateHandler();\r\n        }\r\n      };\r\n\r\n      const failureCallback = (err) => {\r\n        console.log(err.name);\r\n      };\r\n\r\n      this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n    }\r\n  }\r\n\r\n  getValidationError(fieldName) {\r\n    if (this.state.validationResult) {\r\n      return this.state.validationResult.getErrorMessage(fieldName);\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.task !== undefined) {\r\n\r\n      const start = new Date(this.props.task.dateTimeStart).toLocaleTimeString().slice(0, 5);\r\n      const end = new Date(this.props.task.dateTimeEnd).toLocaleTimeString().slice(0, 5);\r\n\r\n      this.setState({\r\n        id: this.props.task.id,\r\n        title: this.props.task.title,\r\n        date: new Date(this.props.task.dateTimeStart),\r\n        start: start,\r\n        end: end,\r\n        description: this.props.task.notes,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        date: new Date(this.props.selectedDate),\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const titleErrMsg = this.getValidationError('title');\r\n    const dateErrMsg = this.getValidationError('date');\r\n    const startErrMsg = this.getValidationError('start');\r\n    const endErrMsg = this.getValidationError('end');\r\n\r\n    return (\r\n      <>\r\n        <div className=\"calendar-newtask-page-container\" onClick={this.props.handleCancelBtn}>\r\n        </div>\r\n        <div className=\"calendar-newtask-container\">\r\n          <div className=\"calendar-newtask-form\">\r\n\r\n            {titleErrMsg && <FormInputErrMsg errMsg={titleErrMsg} />}\r\n\r\n            <div className=\"calendar-newtask-form-input-container\">\r\n              <input type=\"text\"\r\n                className=\"calendar-newtask-form-input calendar-newtask-form-input-title\"\r\n                name=\"title\"\r\n                placeholder=\"Add title\"\r\n                value={this.state.title}\r\n                onChange={this.handleChange}\r\n              />\r\n\r\n            </div>\r\n\r\n            <p className='calendar-newtask-error-messages-container'>\r\n\r\n              {dateErrMsg && <FormInputErrMsg errMsg={dateErrMsg} />}\r\n              {startErrMsg && <FormInputErrMsg errMsg={startErrMsg} />}\r\n              {endErrMsg && <FormInputErrMsg errMsg={endErrMsg} />}\r\n\r\n            </p>\r\n\r\n            <div className=\"calendar-newtask-form-input-container\">\r\n              <i className=\"far fa-calendar-alt\"></i>\r\n\r\n              <DatePicker\r\n                onChange={this.handleDatePickerChange}\r\n                value={this.state.date}\r\n              />\r\n\r\n              <i className=\"far fa-clock\"></i>\r\n              <select\r\n                className=\"calendar-newtask-form-input\"\r\n                name=\"start\"\r\n                value={this.state.start}\r\n                onChange={this.handleChange}>\r\n                {generateTimeOptions()}\r\n              </select>\r\n              <i className=\"fas fa-minus\"></i>\r\n              <select\r\n                className=\"calendar-newtask-form-input\"\r\n                name=\"end\"\r\n                value={this.state.end}\r\n                onChange={this.handleChange}>\r\n                {generateTimeOptions()}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"calendar-newtask-form-input-container\">\r\n              <textarea\r\n                className=\"calendar-newtask-form-input calendar-newtask-form-input-desc\"\r\n                name=\"description\"\r\n                placeholder=\"Notes...\"\r\n                value={this.state.description}\r\n                onChange={this.handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"calendar-newtask-form-buttons\">\r\n              <Button\r\n                type='button'\r\n                buttonStyle='primary'\r\n                handleClick={this.handleSave}\r\n                text='Save' />\r\n              <Button\r\n                type='button'\r\n                buttonStyle='secondary'\r\n                handleClick={this.props.handleCancelBtn}\r\n                text='Cancel' />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CalendarNewTask;","import React, { Component } from 'react';\r\nimport SimpleReactCalendar from 'simple-react-calendar';\r\nimport CalendarNewTask from './CalendarNewTask';\r\nimport '../../styles/calendar/NavCalendar.css';\r\n\r\n\r\nclass NavCalendar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedDate: new Date(),\r\n      addTaskActive: false,\r\n    }\r\n  }\r\n\r\n  onSelectHandler = (date) => {\r\n    this.setState({\r\n      selectedDate: date,\r\n    })\r\n\r\n    this.props.onSelectHandler(date);\r\n  }\r\n\r\n  handleAddTask = () => {\r\n    this.setState({\r\n      addTaskActive: true,\r\n    })\r\n  }\r\n\r\n  handleCancelBtn = () => {\r\n    this.setState({\r\n      addTaskActive: false,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n\r\n        <SimpleReactCalendar selected={this.state.selectedDate} onSelect={this.onSelectHandler} mode=\"single\" />\r\n\r\n        <nav className='nav-container'>\r\n          <ul className='nav'>\r\n            <div className='nav-item-btn-calendar'>\r\n              <button onClick={this.handleAddTask}>\r\n                <i className='fas fa-plus'></i>\r\n                Add task\r\n              </button>\r\n            </div>\r\n          </ul>\r\n        </nav>\r\n\r\n        {this.state.addTaskActive ?\r\n          <CalendarNewTask\r\n            handleCancelBtn={this.handleCancelBtn}\r\n            selectedDate={this.state.selectedDate}\r\n            performCalendarTaskListUpdateHandler={this.props.performCalendarTaskListUpdateHandler}\r\n          /> : null}\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavCalendar;\r\n","import React, { Component } from 'react';\r\nimport CalendarNewTask from '../content/calendar/CalendarNewTask';\r\nimport '../styles/components/TaskHoverButtons.css';\r\n\r\n\r\nclass TaskHoverButtons extends Component {\r\n  state = {\r\n    editTaskActive: false,\r\n  }\r\n\r\n  fetchData(id) {\r\n    const API = `https://catmail.azurewebsites.net/api/calendar/${id}`;\r\n\r\n    fetch(API, {\r\n      method: 'delete',\r\n      headers: {\r\n        'Accept': 'application/json, text/plain, */*',\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          this.props.handleUpdateData();\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  handleEditButton = () => {\r\n    this.setState({\r\n      editTaskActive: true,\r\n    })\r\n  }\r\n\r\n  handleDeleteButton = () => {\r\n    this.fetchData(this.props.task.id);\r\n  }\r\n\r\n  handleCancelBtn = () => {\r\n    this.setState({\r\n      editTaskActive: false,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n\r\n        <div className=\"taskHoverButtons-container\">\r\n          <button\r\n            className=\"taskHoverButtons-button\"\r\n            title='Edit'\r\n            onClick={this.handleEditButton}>\r\n            <i className=\"far fa-edit\"></i>\r\n          </button>\r\n          <button\r\n            className=\"taskHoverButtons-button\"\r\n            title='Delete'\r\n            onClick={this.handleDeleteButton}>\r\n            <i className=\"far fa-trash-alt\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        {this.state.editTaskActive ?\r\n          <CalendarNewTask\r\n            handleCancelBtn={this.handleCancelBtn}\r\n            handleUpdateData={this.props.handleUpdateData}\r\n            task={this.props.task}\r\n          /> : null\r\n        }\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TaskHoverButtons;","import React, { Component } from 'react';\r\nimport TaskHoverButtons from '../../components/TaskHoverButtons';\r\nimport {\r\n  handleCalendarScrollTop,\r\n  generateDivs,\r\n  getDayDateRange,\r\n  getWeekDayName,\r\n} from '../../tools/CalendarHelper';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport '../../styles/calendar/CalendarTaskListDay.css';\r\n\r\nclass CalendarTaskListDay extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: null,\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  fetchData(from, to) {\r\n    const API = `/api/calendar?from=${from}&to=${to}`;\r\n    const options = { method: 'get' };\r\n    const successCallback = (data) => {\r\n      this.setState({ data });\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log(err);\r\n    }\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  handleUpdateData = () => {\r\n    const dayDateRange = getDayDateRange(this.props.selectedDate);\r\n    this.fetchData(...dayDateRange);\r\n  }\r\n\r\n  renderTasks = () => {\r\n    if (this.state.data === null) return;\r\n\r\n    const tasks = this.state.data.map(task => {\r\n\r\n      const start = new Date(task.dateTimeStart);\r\n      const end = new Date(task.dateTimeEnd)\r\n\r\n      const positionFromTopOfContainer = `${(start.getHours() * 60) + start.getMinutes()}px`;\r\n      const height = `${(end - start) / (60 * 1000)}px`;\r\n      const style = {\r\n        top: positionFromTopOfContainer,\r\n        height: height,\r\n      };\r\n\r\n      return (\r\n        <div key={task.id} className=\"calendar-tasklist-day-task\" style={style}>\r\n          <div className=\"calendar-tasklist-day-task-content-container\">\r\n            <div className=\"calendar-tasklist-day-title-container\">\r\n              <h1 className=\"calendar-tasklist-day-task-title\">{task.title}</h1>\r\n              <p className=\"calendar-tasklist-day-task-date\">\r\n                {start.toLocaleTimeString().slice(0, 5)} - {end.toLocaleTimeString().slice(0, 5)}\r\n              </p>\r\n            </div>\r\n            <p className=\"calendar-tasklist-day-task-description\">{task.notes}</p>\r\n          </div>\r\n\r\n          <TaskHoverButtons task={task} handleUpdateData={this.handleUpdateData} />\r\n\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return tasks;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleUpdateData();\r\n    handleCalendarScrollTop('.calendar-tasklist-day-container');\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <>\r\n        <h1 className=\"calendar-tasklist-day-title\">\r\n          {getWeekDayName(this.props.selectedDate)}, {this.props.selectedDate.toLocaleDateString()}\r\n        </h1>\r\n        <div className=\"calendar-tasklist-day-container\">\r\n\r\n\r\n          <div className=\"calendar-tasklist-day-clock\">\r\n            <div className=\"calendar-tasklist-day-clock-item calendar-tasklist-item-first\"></div>\r\n            {generateDivs(23, 'calendar-tasklist-day-clock-item', true)}\r\n          </div>\r\n\r\n          <div className=\"calendar-tasklist-day-table\">\r\n            <div className=\"calendar-tasklist-day-table-item calendar-tasklist-item-first\"></div>\r\n            {generateDivs(23, 'calendar-tasklist-day-table-item', false)}\r\n\r\n            {this.renderTasks()}\r\n          </div>\r\n\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CalendarTaskListDay;","import React, { Component } from 'react';\r\nimport TaskHoverButtons from '../../components/TaskHoverButtons';\r\nimport {\r\n  handleCalendarScrollTop,\r\n  dayOftheWeekMap,\r\n  generateDivs,\r\n  generateTitleDivs,\r\n  getWeekDateRange,\r\n} from '../../tools/CalendarHelper';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport '../../styles/calendar/CalendarTaskListWeek.css';\r\n\r\n\r\nclass CalendarTaskListWeek extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: null,\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  fetchData(from, to) {\r\n    const API = `/api/calendar?from=${from}&to=${to}`;\r\n    const options = { method: 'get' };\r\n    const successCallback = (data) => {\r\n      this.setState({ data });\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log(err);\r\n    }\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  handleUpdateData = () => {\r\n    const weekDateRange = getWeekDateRange(this.props.selectedDate);\r\n    this.fetchData(...weekDateRange);\r\n  }\r\n\r\n  renderTasks = () => {\r\n    if (this.state.data === null) return;\r\n\r\n    const tasks = this.state.data.map(task => {\r\n\r\n      const start = new Date(task.dateTimeStart);\r\n      const end = new Date(task.dateTimeEnd)\r\n\r\n      const positionFromTopOfContainer = `${(start.getHours() * 60) + start.getMinutes()}px`;\r\n      const positionFromLeftOfContainer = `${(dayOftheWeekMap[start.getDay()] - 1) * (100 / 7)}%`;\r\n      const height = `${(end - start) / (60 * 1000)}px`;\r\n      const style = {\r\n        top: positionFromTopOfContainer,\r\n        left: positionFromLeftOfContainer,\r\n        height: height,\r\n      };\r\n\r\n      return (\r\n        <div\r\n          key={task.id}\r\n          className=\"calendar-tasklist-week-task\"\r\n          style={style}>\r\n          <div className=\"calendar-tasklist-week-task-content-container\">\r\n            <div className=\"calendar-tasklist-week-title-container\">\r\n              <h1 className=\"calendar-tasklist-week-task-title\">{task.title}</h1>\r\n              <p className=\"calendar-tasklist-week-task-date\">\r\n                {start.toLocaleTimeString().slice(0, 5)} - {end.toLocaleTimeString().slice(0, 5)}\r\n              </p>\r\n            </div>\r\n            <p className=\"calendar-tasklist-week-task-description\">{task.notes}</p>\r\n          </div>\r\n\r\n          <TaskHoverButtons\r\n            task={task}\r\n            handleUpdateData={this.handleUpdateData}\r\n          />\r\n        </div>\r\n      )\r\n    })\r\n    return tasks;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleUpdateData();\r\n    handleCalendarScrollTop('.calendar-tasklist-week-container');\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <>\r\n        <div className=\"calendar-tasklist-week-title\">\r\n          {generateTitleDivs(7, \"calendar-tasklist-week-title-item\", this.props.selectedDate)}\r\n        </div>\r\n\r\n        <div className=\"calendar-tasklist-week-container\">\r\n          <div className=\"calendar-tasklist-week-clock\">\r\n            <div className=\"calendar-tasklist-week-clock-item calendar-tasklist-item-first\"></div>\r\n            {generateDivs(23, 'calendar-tasklist-week-clock-item', true)}\r\n          </div>\r\n\r\n          <div className=\"calendar-tasklist-week-table\">\r\n            <div className=\"calendar-tasklist-week-table-item calendar-tasklist-item-first\"></div>\r\n            {generateDivs(23, 'calendar-tasklist-week-table-item', false)}\r\n            <div className=\"calendar-tasklist-week-days-container\">\r\n              {generateDivs(7, 'calendar-tasklist-week-days-item', false)}\r\n\r\n              {this.renderTasks()}\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CalendarTaskListWeek;","import React, { Component } from 'react';\r\nimport CalendarTaskListDay from './CalendarTaskListDay';\r\nimport CalendarTaskListWeek from './CalendarTaskListWeek';\r\nimport '../../styles/calendar/CalendarTaskList.css';\r\n\r\n\r\n\r\nclass CalendarTaskList extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedView: 'day',\r\n    }\r\n  }\r\n\r\n  selectedViewHandler = (selectedView) => {\r\n    this.setState({\r\n      selectedView,\r\n    })\r\n  }\r\n\r\n  renderView = () => {\r\n    if (this.state.selectedView === 'day') {\r\n      return <CalendarTaskListDay selectedDate={this.props.selectedDate} />\r\n    } else {\r\n      return <CalendarTaskListWeek selectedDate={this.props.selectedDate} />\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"calendar-tasklist-tools-container\">\r\n          <div className=\"calendar-tasklist-buttons\">\r\n\r\n            <button\r\n              className={this.state.selectedView === 'day' ? 'calendar-tasklist-btn active' : 'calendar-tasklist-btn'}\r\n              title='Switch to day view'\r\n              onClick={() => this.selectedViewHandler('day')} >Day</button>\r\n\r\n            <button\r\n              className={this.state.selectedView === 'week' ? 'calendar-tasklist-btn active' : 'calendar-tasklist-btn'}\r\n              title='Switch to week view'\r\n              onClick={() => this.selectedViewHandler('week')}>Week</button>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"calendar-tasklist-container\">\r\n          {this.renderView()}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CalendarTaskList;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport CalendarTaskList from './CalendarTaskList';\r\nimport Error from '../../layout/Error';\r\n\r\n\r\nconst CalendarPage = (props) => {\r\n\r\n  return (\r\n    <>\r\n\r\n      <Switch>\r\n\r\n        <Route path='/calendar' exact component={() => <CalendarTaskList selectedDate={props.selectedDate} />} />\r\n        <Route component={Error} />\r\n\r\n      </Switch>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CalendarPage;","import React, { Component } from 'react';\r\nimport CalendarNav from './CalendarNav';\r\nimport CalendarPage from './CalendarPage';\r\nimport '../../styles/layout/Content.css';\r\n\r\n\r\nclass Calendar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedDate: new Date(),\r\n      performCalendarTaskListUpdate: false,\r\n    }\r\n  }\r\n\r\n  onSelectHandler = (date) => {\r\n    this.setState({\r\n      selectedDate: date,\r\n    })\r\n  }\r\n\r\n  performCalendarTaskListUpdateHandler = () => {\r\n    this.setState(prevState => ({\r\n      performCalendarTaskListUpdate: !prevState.performCalendarTaskListUpdate,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"navigation\">\r\n          {<CalendarNav\r\n            onSelectHandler={this.onSelectHandler}\r\n            performCalendarTaskListUpdateHandler={this.performCalendarTaskListUpdateHandler}\r\n          />}\r\n        </div>\r\n        <div className=\"page\">\r\n          {<CalendarPage\r\n            selectedDate={this.state.selectedDate}\r\n          />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calendar;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport '../../styles/layout/Nav.css';\r\n\r\nconst navItems = [\r\n  { name: 'All contacts', path: '/addressbook/all', icon: 'far fa-address-book' },\r\n  { name: 'Favourite', path: '/addressbook/favourite', icon: 'far fa-heart' },\r\n  { name: 'Personal', path: '/addressbook/personal', icon: 'fas fa-users' },\r\n  { name: 'Work', path: '/addressbook/work', icon: 'fas fa-briefcase' },\r\n  { name: 'School', path: '/addressbook/school', icon: 'fas fa-user-graduate' },\r\n]\r\n\r\nconst NavAddressbook = () => {\r\n  const navigation = navItems.map(navItem => (\r\n    <li className=\"nav-item\" key={navItem.name} title={navItem.name}>\r\n      <NavLink to={navItem.path} exact={navItem.exact ? navItem.exact : false}>\r\n        <i className={navItem.icon} ></i>\r\n        {navItem.name}\r\n      </NavLink>\r\n    </li>\r\n  ))\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"nav-container\">\r\n        <ul className=\"nav\">\r\n          <li className=\"nav-item-btn\">\r\n            <NavLink to='/addressbook/add/new' exact>\r\n              <i className='fas fa-plus'></i>\r\n              Add\r\n            </NavLink>\r\n          </li>\r\n          {navigation}\r\n        </ul>\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavAddressbook;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FetchService } from '../services/FetchService';\r\nimport '../styles/components/AddressbookListTools.css';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\n\r\nconst AddressbookListTools = (props) => {\r\n\r\n  const { id, email, handleDeletingContact } = props;\r\n  const fetchService = new FetchService();\r\n\r\n  const deleteContact = () => {\r\n    const API = `/api/Contact/${id}`;\r\n    const options = { method: 'delete' };\r\n    const successCallback = () => {\r\n      handleDeletingContact();\r\n      toast('Contact deleted');\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log(err, err.name);\r\n      toast.error('Failed to delete contact');\r\n    };\r\n\r\n    fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"addressbook-list-tools-container\">\r\n\r\n        <Link to={`/email/compose/new?address=${email}`} className=\"addressbook-list-tools\" title=\"Compose e-mail\">\r\n          <i className=\"far fa-envelope\"></i>\r\n        </Link>\r\n\r\n        <Link to={`/addressbook/add/new?id=${id}`} className=\"addressbook-list-tools\" title=\"Edit\">\r\n          <i className=\"far fa-edit\"></i>\r\n        </Link>\r\n\r\n        <div className=\"addressbook-list-tools\"\r\n          title=\"Delete\"\r\n          onClick={deleteContact}>\r\n          <i className=\"far fa-trash-alt\"></i>\r\n        </div>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddressbookListTools;","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Search from '../../components/Search';\r\nimport Pager from '../../components/Pager';\r\nimport Spinner from '../../components/Spinner';\r\nimport AddressbookListTools from '../../components/AddressbookListTools';\r\nimport '../../styles/addressbook/AddressbookList.css';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport { BASE_URL } from '../../constants/URL';\r\n\r\n\r\nclass AddressbookList extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showSpinner: true,\r\n      data: null,\r\n      skip: 0,\r\n      take: 20,\r\n      currentPage: 1,\r\n      pagesCount: null,\r\n      searchText: '',\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  renderSpinner = () => {\r\n    this.setState({\r\n      showSpinner: true,\r\n    })\r\n  }\r\n\r\n  handleFavourites = (id, index) => {\r\n    const API = `/api/Contact/${id}/favourite`;\r\n    const options = { method: 'put' };\r\n    const successCallback = (newValue) => {\r\n      const dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n      dataCopy.items[index].isFavourite = newValue;\r\n      this.setState({\r\n        data: dataCopy,\r\n      })\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log(err, err.name)\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  handleSearch = (value) => {\r\n    this.setState({\r\n      searchText: value,\r\n    });\r\n\r\n    const { skip, take } = this.state;\r\n    const category = this.props.match.params.category;\r\n    this.fetchData(value, category, skip, take);\r\n  }\r\n\r\n  handlePageChange = (value) => {\r\n    const { take, currentPage, pagesCount, searchText } = this.state;\r\n    if (currentPage + value >= 1 && currentPage + value <= pagesCount) {\r\n      const newCurrentPage = currentPage + value;\r\n      const newSkip = (newCurrentPage - 1) * take;\r\n\r\n      this.setState({\r\n        currentPage: newCurrentPage,\r\n        skip: newSkip,\r\n      })\r\n\r\n      const category = this.props.match.params.category;\r\n      this.fetchData(searchText, category, newSkip, take);\r\n    }\r\n  }\r\n\r\n  handleDeletingContact = () => {\r\n    if (this.state.data.items.length === 1 && this.state.pagesCount > 1) {\r\n      this.setState(prevState => ({\r\n        currentPage: prevState.currentPage - 1,\r\n      }))\r\n    };\r\n\r\n    const category = this.props.match.params.category;\r\n    const { searchText, currentPage, take } = this.state;\r\n    const newSkip = (currentPage - 1) * take;\r\n    this.fetchData(searchText, category, newSkip, take);\r\n  }\r\n\r\n  fetchData(searchText, category, skip, take) {\r\n    this.renderSpinner();\r\n    const API = `/api/Contact?searchText=${searchText}&category=${category}&skip=${skip}&take=${take}`;\r\n    const options = { method: 'get' };\r\n    const successCallback = (data) => {\r\n      const pagesCount = Math.ceil(data.itemsCount / take);\r\n      this.setState({\r\n        data,\r\n        pagesCount,\r\n        showSpinner: false,\r\n      })\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log('Fetch failure callback in component AddressbookList');\r\n      console.log(err, err.name);\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { searchText, skip, take } = this.state;\r\n    const category = this.props.match.params.category;\r\n    this.fetchData(searchText, category, skip, take);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.category !== prevProps.match.params.category) {\r\n      this.setState({\r\n        currentPage: 1,\r\n      });\r\n      const category = this.props.match.params.category;\r\n      const { searchText, skip, take } = this.state;\r\n      this.fetchData(searchText, category, skip, take);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  renderTable() {\r\n    if (this.state.data === null) return;\r\n    const currentCategory = this.props.match.params.category;\r\n    const { items } = this.state.data;\r\n    if (items.length === 0) return `This list is empty`;\r\n\r\n    const addressbookTable = items.map((item, index) => (\r\n      <div className='addressbook-table-row' key={item.id}>\r\n        <div className=\"addressbook-table-item addressbook-table-avatar\">\r\n          <div className=\"addressbook-table-cell\">\r\n            {item.avatar ?\r\n              <img src={`${BASE_URL}/api/Avatar/${item.avatar}`} alt=\"Contact avatar\" />\r\n              : <i className=\"fas fa-camera\"></i>}\r\n          </div>\r\n        </div>\r\n        <div className=\"addressbook-table-item addressbook-table-favourite\">\r\n          <div className=\"addressbook-table-cell\">\r\n            <i title={item.isFavourite ? \"Remove from favourites\" : \"Add to favourites\"}\r\n              className={item.isFavourite ? \"far fa-heart favourite\" : \"far fa-heart\"}\r\n              onClick={() => this.handleFavourites(item.id, index)}\r\n            ></i>\r\n          </div>\r\n        </div>\r\n\r\n        <NavLink to={`/addressbook/${currentCategory}/contactview/${item.id}`} >\r\n          <div className='addressbook-table-item addressbook-table-name'>\r\n            <div className=\"addressbook-table-cell\">{item.name}</div>\r\n          </div>\r\n          <div className='addressbook-table-item addressbook-table-email'>\r\n            <div className=\"addressbook-table-cell\">{item.email}</div>\r\n          </div>\r\n          <div className='addressbook-table-item addressbook-table-phone'>\r\n            <div className=\"addressbook-table-cell\">{item.phone}</div>\r\n          </div>\r\n        </NavLink >\r\n\r\n        <div className=\"addressbook-table-item addressbook-table-tools\">\r\n          <div className=\"addressbook-table-cell\">\r\n            <AddressbookListTools\r\n              id={item.id}\r\n              email={item.email}\r\n              handleDeletingContact={this.handleDeletingContact} />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    ))\r\n    return addressbookTable;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"tools-container\">\r\n          <div className=\"search\">{<Search\r\n            handleSearch={this.handleSearch}\r\n          />}</div>\r\n          <div className=\"pager\">{<Pager\r\n            pagesCount={this.state.pagesCount}\r\n            currentPage={this.state.currentPage}\r\n            handlePageChange={this.handlePageChange}\r\n          />}</div>\r\n        </div>\r\n\r\n        <div className='addressbook-table-container'>\r\n\r\n          <div className='addressbook-table-header'>\r\n            <div className=\"addressbook-table-header-item addressbook-table-header-name\">Name</div>\r\n            <div className=\"addressbook-table-header-item addressbook-table-header-email\">E-mail</div>\r\n            <div className=\"addressbook-table-header-item addressbook-table-header-phone\">Phone</div>\r\n          </div>\r\n          <div className=\"addressbook-table-inner-container\">\r\n            {this.renderTable()}\r\n            {this.state.showSpinner && <Spinner />}\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddressbookList;","import React, { Component } from 'react';\r\nimport '../../styles/addressbook/AddressbookMap.css';\r\n\r\n\r\nclass AddressbookMap extends Component {\r\n  state = {}\r\n\r\n  render() {\r\n\r\n    const src = encodeURI(`https://maps.google.com/maps?width=100%&height=600&hl=en&q=${this.props.address}, ${this.props.city}, ${this.props.country}&ie=UTF8&t=&amp;z=14&iwloc=B&output=embed`);\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"addressbook-map-page-container\"\r\n          onClick={(event) => this.props.handleClick(event, 'mapActive')}>\r\n        </div>\r\n\r\n        <div className=\"addressbook-map-container\">\r\n\r\n          <div className=\"addressbook-map-close\">\r\n            <i className=\"far fa-times-circle\" title=\"Close\"\r\n              onClick={(event) => this.props.handleClick(event, 'mapActive')}></i>\r\n          </div>\r\n\r\n          <iframe\r\n            title=\"map\"\r\n            src={src}\r\n            frameBorder=\"0\"\r\n            scrolling=\"no\"\r\n            marginHeight=\"0\"\r\n            marginWidth=\"0\">\r\n          </iframe>\r\n\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddressbookMap;","import React from 'react';\r\nimport '../styles/components/AddressbookAddCategoryTools.css';\r\n\r\nconst AddressbookAddCategoryTools = (props) => {\r\n\r\n  const categories = ['All', 'Personal', 'Work', 'School'];\r\n\r\n  const renderCategories = () => {\r\n    return categories.map(category => {\r\n      return (\r\n        <div\r\n          key={category}\r\n          className={props.category.toLowerCase() === category.toLowerCase()\r\n            ? \"addressbook-add-tools-category active\"\r\n            : \"addressbook-add-tools-category\"}\r\n          onClick={() => props.setCategory(category)}\r\n        >{category}\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"addressbook-add-tools-container\">\r\n\r\n      <div className=\"addressbook-add-tools-category-container\" title=\"Set category\">\r\n        <p>Category:</p>\r\n        {renderCategories()}\r\n      </div>\r\n\r\n      <div className=\"addressbook-add-tools-favourite\"\r\n        title={props.isFavourite ? \"Remove from favourites\" : \"Add to favourites\"}\r\n        onClick={props.toggleIsFavourite}>\r\n        <i className={props.isFavourite ? \"fa fa-heart active\" : \"far fa-heart\"}\r\n        ></i>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default AddressbookAddCategoryTools;","export const COUNTRIES = [\r\n  \"Afghanistan\", \"Albania\", \"Algeria\", \"American Samoa\", \"Andorra\", \"Angola\", \"Anguilla\", \"Antarctica\", \"Antigua and Barbuda\", \"Argentina\", \"Armenia\", \"Aruba\", \"Australia\", \"Austria\", \"Azerbaijan\", \"Bahamas\", \"Bahrain\", \"Bangladesh\", \"Barbados\", \"Belarus\", \"Belgium\", \"Belize\", \"Benin\", \"Bermuda\", \"Bhutan\", \"Bolivia\", \"Bosnia and Herzegowina\", \"Botswana\", \"Bouvet Island\", \"Brazil\", \"British Indian Ocean Territory\", \"Brunei Darussalam\", \"Bulgaria\", \"Burkina Faso\", \"Burundi\", \"Cambodia\", \"Cameroon\", \"Canada\", \"Cape Verde\", \"Cayman Islands\", \"Central African Republic\", \"Chad\", \"Chile\", \"China\", \"Christmas Island\", \"Cocos (Keeling) Islands\", \"Colombia\", \"Comoros\", \"Congo\", \"Congo, the Democratic Republic of the\", \"Cook Islands\", \"Costa Rica\", \"Cote d'Ivoire\", \"Croatia\", \"Cuba\", \"Cyprus\", \"Czech Republic\", \"Denmark\", \"Djibouti\", \"Dominica\", \"Dominican Republic\", \"East Timor\", \"Ecuador\", \"Egypt\", \"El Salvador\", \"Equatorial Guinea\", \"Eritrea\", \"Estonia\", \"Ethiopia\", \"Falkland Islands (Malvinas)\", \"Faroe Islands\", \"Fiji\", \"Finland\", \"France\", \"France Metropolitan\", \"French Guiana\", \"French Polynesia\", \"French Southern Territories\", \"Gabon\", \"Gambia\", \"Georgia\", \"Germany\", \"Ghana\", \"Gibraltar\", \"Greece\", \"Greenland\", \"Grenada\", \"Guadeloupe\", \"Guam\", \"Guatemala\", \"Guinea\", \"Guinea-Bissau\", \"Guyana\", \"Haiti\", \"Heard and Mc Donald Islands\", \"Holy See (Vatican City State)\", \"Honduras\", \"Hong Kong\", \"Hungary\", \"Iceland\", \"India\", \"Indonesia\", \"Iran\", \"Iraq\", \"Ireland\", \"Israel\", \"Italy\", \"Jamaica\", \"Japan\", \"Jordan\", \"Kazakhstan\", \"Kenya\", \"Kiribati\", \"Korea, Democratic People's Republic of\", \"Korea, Republic of\", \"Kuwait\", \"Kyrgyzstan\", \"Lao, People's Democratic Republic\", \"Latvia\", \"Lebanon\", \"Lesotho\", \"Liberia\", \"Libyan Arab Jamahiriya\", \"Liechtenstein\", \"Lithuania\", \"Luxembourg\", \"Macau\", \"Macedonia\", \"Madagascar\", \"Malawi\", \"Malaysia\", \"Maldives\", \"Mali\", \"Malta\", \"Marshall Islands\", \"Martinique\", \"Mauritania\", \"Mauritius\", \"Mayotte\", \"Mexico\", \"Micronesia, Federated States of\", \"Moldova, Republic of\", \"Monaco\", \"Mongolia\", \"Montserrat\", \"Morocco\", \"Mozambique\", \"Myanmar\", \"Namibia\", \"Nauru\", \"Nepal\", \"Netherlands\", \"Netherlands Antilles\", \"New Caledonia\", \"New Zealand\", \"Nicaragua\", \"Niger\", \"Nigeria\", \"Niue\", \"Norfolk Island\", \"Northern Mariana Islands\", \"Norway\", \"Oman\", \"Pakistan\", \"Palau\", \"Panama\", \"Papua New Guinea\", \"Paraguay\", \"Peru\", \"Philippines\", \"Pitcairn\", \"Poland\", \"Portugal\", \"Puerto Rico\", \"Qatar\", \"Reunion\", \"Romania\", \"Russian Federation\", \"Rwanda\", \"Saint Kitts and Nevis\", \"Saint Lucia\", \"Saint Vincent and the Grenadines\", \"Samoa\", \"San Marino\", \"Sao Tome and Principe\", \"Saudi Arabia\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \"Singapore\", \"Slovakia\", \"Slovenia\", \"Solomon Islands\", \"Somalia\", \"South Africa\", \"South Georgia and the South Sandwich Islands\", \"Spain\", \"Sri Lanka\", \"St. Helena\", \"St. Pierre and Miquelon\", \"Sudan\", \"Suriname\", \"Svalbard and Jan Mayen Islands\", \"Swaziland\", \"Sweden\", \"Switzerland\", \"Syrian Arab Republic\", \"Taiwan\", \"Tajikistan\", \"Tanzania, United Republic of\", \"Thailand\", \"Togo\", \"Tokelau\", \"Tonga\", \"Trinidad and Tobago\", \"Tunisia\", \"Turkey\", \"Turkmenistan\", \"Turks and Caicos Islands\", \"Tuvalu\", \"Uganda\", \"Ukraine\", \"United Arab Emirates\", \"United Kingdom\", \"United States of America\", \"United States Minor Outlying Islands\", \"Uruguay\", \"Uzbekistan\", \"Vanuatu\", \"Venezuela\", \"Vietnam\", \"Virgin Islands (British)\", \"Virgin Islands (U.S.)\", \"Wallis and Futuna Islands\", \"Western Sahara\", \"Yemen\", \"Yugoslavia\", \"Zambia\", \"Zimbabwe\"\r\n]","import React, { Component } from 'react';\r\nimport AddressbookMap from './AddressbookMap';\r\nimport '../../styles/addressbook/AddressbookAdd.css';\r\nimport { Link, Prompt, Redirect } from 'react-router-dom';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport {\r\n  Validator,\r\n  ValidationConfig,\r\n  validateRequired,\r\n  useValidateMaxLenght,\r\n} from '../../tools/Validator';\r\nimport FormInputErrMsg from '../../components/FormInputErrMsg';\r\nimport AddressbookAddCategoryTools from '../../components/AddressbookAddCategoryTools';\r\nimport { COUNTRIES } from '../../constants/Countries';\r\nimport { BASE_URL } from '../../constants/URL';\r\nimport Spinner from '../../components/Spinner';\r\nimport Button from '../../components/Button';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nclass AddressbookAdd extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: '',\r\n      isFavourite: false,\r\n      category: 'All',\r\n      avatar: null,\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      note: '',\r\n      address: '',\r\n      city: '',\r\n      postalCode: '',\r\n      country: 'Poland',\r\n\r\n      mapActive: false,\r\n      validationResult: null,\r\n      showSpinner: false,\r\n      redirectToAddressbookList: false,\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      validationResult: null,\r\n    })\r\n  }\r\n\r\n  handleClick = (event, clickedItem) => {\r\n    event.preventDefault();\r\n    this.setState((state) => ({\r\n      [clickedItem]: !state[clickedItem]\r\n    }))\r\n  }\r\n\r\n  handleSave = (event) => {\r\n    event.preventDefault();\r\n    const { id, name, email, phone, note, address, city, postalCode, country, category, isFavourite, avatar } = this.state;\r\n    const dataJSON = JSON.stringify({\r\n      name,\r\n      email,\r\n      phone,\r\n      notes: note,\r\n      address: {\r\n        street: address,\r\n        postCode: postalCode,\r\n        city: city,\r\n        country: country,\r\n      },\r\n      category,\r\n      isFavourite,\r\n      avatar,\r\n    })\r\n\r\n    const validationConfigs = [\r\n      new ValidationConfig('name', [validateRequired, useValidateMaxLenght(50)]),\r\n      new ValidationConfig('email', [validateRequired, useValidateMaxLenght(50)]),\r\n    ];\r\n\r\n    const validationResult = new Validator(validationConfigs).validate(this.state);\r\n    this.setState({\r\n      validationResult\r\n    });\r\n\r\n    if (validationResult.isValid) {\r\n      const API = id ? `/api/contact/${id}` : `/api/contact`;\r\n      const options = {\r\n        method: id ? 'put' : 'post',\r\n        headers: {\r\n          'Accept': 'application/json, text/plain, */*',\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: dataJSON,\r\n      };\r\n\r\n      const successCallback = () => {\r\n        this.setState({\r\n          redirectToAddressbookList: true,\r\n        });\r\n        toast('Contact saved');\r\n      };\r\n\r\n      const failureCallback = (err) => {\r\n        console.log('Request failed', err);\r\n        toast.error('Failed to save contact');\r\n      };\r\n\r\n      this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n    }\r\n  };\r\n\r\n  getValidationError = (fieldName) => {\r\n    if (this.state.validationResult) {\r\n      return this.state.validationResult.getErrorMessage(fieldName);\r\n    }\r\n  };\r\n\r\n  toggleIsFavourite = () => {\r\n    this.setState(prevState => ({\r\n      isFavourite: !prevState.isFavourite,\r\n    }))\r\n  };\r\n\r\n  setCategory = (category) => {\r\n    this.setState({\r\n      category,\r\n    })\r\n  };\r\n\r\n  generateCountrySelectorOptions = () => {\r\n    return COUNTRIES.map(country => {\r\n      return (\r\n        <option value={country} key={country}>{country}</option>\r\n      )\r\n    })\r\n  };\r\n\r\n  handleAvatarUpload = (event) => {\r\n    this.setState({ showSpinner: true });\r\n\r\n    let formData = new FormData();\r\n    formData.append('file', event.target.files[0], event.target.files[0].name)\r\n    const API = '/api/Avatar';\r\n    const options = {\r\n      method: 'post',\r\n      body: formData\r\n    };\r\n\r\n    const successCallback = (data) => {\r\n      this.setState({\r\n        avatar: data.id,\r\n        showSpinner: false,\r\n      });\r\n    };\r\n\r\n    const failureCallback = (err) => {\r\n      alert('Saving image file failed. Try again');\r\n      console.log(`Saving image failed. ${err}`)\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  };\r\n\r\n  handleAvatarInputReset = (event) => {\r\n    event.target.value = null;\r\n  };\r\n\r\n  handleDeleteAvatarImage = () => {\r\n    this.setState({\r\n      avatar: null\r\n    })\r\n  };\r\n\r\n  renderAvatarInput = () => {\r\n    if (this.state.avatar === null) {\r\n      return (\r\n        <>\r\n          <div className=\"addressbook-add-avatar\" title=\"Upload avatar image\">\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              id=\"addressbook-add-avatar-input\"\r\n              hidden\r\n              onClick={this.handleAvatarInputReset}\r\n              onChange={this.handleAvatarUpload}\r\n            />\r\n            <label htmlFor=\"addressbook-add-avatar-input\" className=\"addressbook-add-avatar-input\"></label>\r\n            <i className=\"fas fa-camera\"></i>\r\n            <p>Upload image</p>\r\n\r\n          </div>\r\n        </>\r\n      )\r\n    } else {\r\n      const imgURL = `${BASE_URL}/api/Avatar/${this.state.avatar}`;\r\n\r\n      return (\r\n        <>\r\n          <div className=\"addressbook-add-avatar\" title=\"Change avatar image\" >\r\n            <input type=\"file\" id=\"addressbook-add-avatar-input\" hidden\r\n              onClick={this.handleAvatarInputReset}\r\n              onChange={this.handleAvatarUpload} />\r\n            <label htmlFor=\"addressbook-add-avatar-input\" className=\"addressbook-add-avatar-input\"></label>\r\n            <img src={imgURL} alt=\"avatar\" className=\"addressbook-add-avatar-image\" />\r\n          </div>\r\n          <div\r\n            className=\"addressbook-add-avatar-delete-image\"\r\n            onClick={this.handleDeleteAvatarImage}>\r\n            <i className=\"far fa-times-circle\"></i>\r\n            Delete image</div>\r\n        </>\r\n      )\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const id = new URLSearchParams(this.props.location.search).get('id');\r\n    const API = `/api/Contact/${id}`;\r\n    const options = { method: 'get' };\r\n    const successCallback = (data) => {\r\n      this.setState({\r\n        id,\r\n        isFavourite: data.isFavourite,\r\n        category: data.category,\r\n        avatar: data.avatar,\r\n        name: data.name,\r\n        email: data.email,\r\n        phone: data.phone,\r\n        note: data.notes,\r\n        address: data.address.street,\r\n        city: data.address.city,\r\n        postalCode: data.address.postalCode,\r\n        country: data.address.country,\r\n      });\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log(err, err.name)\r\n    };\r\n\r\n    if (id) {\r\n      this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const nameErrMsg = this.getValidationError('name');\r\n    const emailErrMsg = this.getValidationError('email');\r\n\r\n    if (this.state.redirectToAddressbookList) {\r\n      return <Redirect to='/addressbook/all' />\r\n    }\r\n\r\n    return (\r\n      <>\r\n\r\n        <div className=\"addressbook-add-container\">\r\n\r\n          <div className=\"addressbook-add-header\">\r\n            <AddressbookAddCategoryTools\r\n              isFavourite={this.state.isFavourite}\r\n              category={this.state.category}\r\n              toggleIsFavourite={this.toggleIsFavourite}\r\n              setCategory={this.setCategory}\r\n            />\r\n\r\n          </div>\r\n\r\n          <form className=\"addressbook-add-form\">\r\n            <div className=\"addressbook-add-form-container\">\r\n\r\n              <div className=\"addressbook-input-wrapper-avatar\">\r\n\r\n                <div className=\"addressbook-input-wrapper-basic\">\r\n                  <label htmlFor=\"name\" className=\"addressbook-add-form-label\">Contact name:<span>*</span></label>\r\n                  <input type=\"text\"\r\n                    name=\"name\"\r\n                    maxLength=\"50\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.name || ''} />\r\n                  {nameErrMsg && <FormInputErrMsg errMsg={nameErrMsg} />}\r\n\r\n                  <label htmlFor=\"email\" className=\"addressbook-add-form-label\">Email adress:<span>*</span></label>\r\n                  <input type=\"text\"\r\n                    name=\"email\"\r\n                    maxLength=\"50\"\r\n                    pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.email || ''} />\r\n                  {emailErrMsg && <FormInputErrMsg errMsg={emailErrMsg} />}\r\n\r\n                  <label htmlFor=\"phone\" className=\"addressbook-add-form-label\">Phone number:</label>\r\n                  <input type=\"text\"\r\n                    name=\"phone\"\r\n                    maxLength=\"50\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.phone || ''} />\r\n                </div>\r\n\r\n                <div className=\"addressbook-add-avatar-container\">\r\n                  {this.renderAvatarInput()}\r\n\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <label htmlFor=\"note\" className=\"addressbook-add-form-label\">Note:</label>\r\n              <textarea\r\n                name=\"note\"\r\n                maxLength=\"1000\"\r\n                onChange={this.handleChange}\r\n                value={this.state.note || ''} />\r\n\r\n              <label htmlFor=\"address\" className=\"addressbook-add-form-label\">Address:</label>\r\n              <input type=\"text\"\r\n                name=\"address\"\r\n                maxLength=\"100\"\r\n                autoComplete=\"new\"\r\n                onChange={this.handleChange}\r\n                value={this.state.address || ''} />\r\n\r\n              <div className='addressbook-input-wrapper-address'>\r\n                <label htmlFor=\"city\" className=\"addressbook-add-form-label\">City:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"city\"\r\n                  maxLength=\"50\"\r\n                  autoComplete=\"false\"\r\n                  onChange={this.handleChange}\r\n                  value={this.state.city || ''} />\r\n              </div>\r\n\r\n              <div className='addressbook-input-wrapper-address'>\r\n                <label htmlFor=\"postalcode\" className=\"addressbook-add-form-label\">Postal code:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"postalCode\"\r\n                  maxLength=\"10\"\r\n                  autoComplete=\"false1\"\r\n                  onChange={this.handleChange}\r\n                  value={this.state.postalCode || ''} />\r\n              </div>\r\n\r\n              <div className=\"addressbook-input-wrapper-address\">\r\n                <label htmlFor=\"country\" className=\"addressbook-add-form-label\">Country:</label>\r\n                <select\r\n                  name=\"country\"\r\n                  maxLength=\"50\"\r\n                  autoComplete=\"false2\"\r\n                  onChange={this.handleChange}\r\n                  value={this.state.country || ''}>\r\n                  {this.generateCountrySelectorOptions()}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"addressbook-input-wrapper-address\">\r\n                <label htmlFor=\"open-map\" className=\"addressbook-add-form-label\">Open map window:</label>\r\n                <Button\r\n                  name='open-map'\r\n                  type='button'\r\n                  buttonStyle='secondary'\r\n                  handleClick={(event) => this.handleClick(event, 'mapActive')}\r\n                  text='See location on GoogleMaps' />\r\n              </div>\r\n\r\n              <div className=\"addressbook-add-form-buttons\">\r\n\r\n                <Button\r\n                  type='submit'\r\n                  buttonStyle='primary'\r\n                  handleClick={this.handleSave}\r\n                  text='Save' />\r\n\r\n                <Prompt\r\n                  when={true}\r\n                  message={'Are you sure you want to cancel?'} />\r\n                <Link to='/addressbook/all'>\r\n                  <Button\r\n                    type='button'\r\n                    buttonStyle='secondary'\r\n                    text='Cancel' />\r\n                </Link>\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </form>\r\n\r\n        </div>\r\n\r\n        {this.state.mapActive ?\r\n          <AddressbookMap\r\n            handleClick={this.handleClick}\r\n            address={this.state.address}\r\n            city={this.state.city}\r\n            country={this.state.country}\r\n          />\r\n          : null\r\n        }\r\n\r\n        {this.state.showSpinner ? <Spinner /> : null}\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddressbookAdd;","import React, { Component } from 'react';\r\nimport AddressbookListTools from '../../components/AddressbookListTools';\r\nimport Spinner from '../../components/Spinner';\r\nimport { FetchService } from '../../services/FetchService';\r\nimport { BASE_URL } from '../../constants/URL';\r\nimport { Redirect } from 'react-router-dom';\r\nimport '../../styles/addressbook/AddressbookContactView.css';\r\n\r\nclass AddressbookContactView extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showSpinner: true,\r\n      data: null,\r\n      redirectToCategory: false,\r\n    };\r\n\r\n    this.fetchService = new FetchService();\r\n  }\r\n\r\n  handleDeletingContact = () => {\r\n    const category = this.props.match.params.category;\r\n    this.setState({\r\n      redirectToCategory: category,\r\n    })\r\n  }\r\n\r\n  fetchData = (id) => {\r\n    const API = `/api/Contact/${id}`;\r\n    const options = { method: 'get' };\r\n    const successCallback = (data) => {\r\n      this.setState({\r\n        data,\r\n        showSpinner: false,\r\n      });\r\n    };\r\n    const failureCallback = (err) => {\r\n      console.log(err, err.name)\r\n    };\r\n\r\n    this.fetchService.useFetch(API, options, successCallback, failureCallback);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    this.fetchData(id);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.fetchService.abortFetch();\r\n  }\r\n\r\n  renderContactContent = () => {\r\n    if (this.state.data === null) return;\r\n    const { data } = this.state;\r\n\r\n\r\n    const src = encodeURI(`https://maps.google.com/maps?width=100%&height=600&hl=en&q=${data.address.street}, ${data.address.city}, ${data.address.country}&ie=UTF8&t=&amp;z=14&iwloc=B&output=embed`);\r\n\r\n    const contactContent = (\r\n      <div className=\"addressbook-contact-container\">\r\n\r\n        <div className=\"addressbook-contact-tools-container\">\r\n          <AddressbookListTools\r\n            id={data.id}\r\n            email={data.email}\r\n            handleDeletingContact={this.handleDeletingContact} />\r\n        </div>\r\n\r\n        <h1 className=\"addressbook-contact-name\">{data.name}</h1>\r\n        <div className=\"addressbook-contact-data-container\">\r\n\r\n          <div className=\"addressbook-contact-data-item addressbook-contact-data-picture\">\r\n            <div className=\"addressbook-contact-data-picture-container\">\r\n              {data.avatar\r\n                ? <img src={`${BASE_URL}/api/Avatar/${data.avatar}`} alt=\"Contact\" />\r\n                : <i className=\"fas fa-camera\"></i>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"addressbook-contact-data-item addressbook-contact-data-info\">\r\n            <div className=\"addressbook-contact-data-header\">\r\n              <p>Contact information</p>\r\n            </div>\r\n            <div className=\"addressbook-contact-data-fieldnames\">\r\n              <p>Contact name:</p>\r\n              <p>Email adress:</p>\r\n              <p>Phone number:</p>\r\n              <p>Note:</p>\r\n            </div>\r\n            <div className=\"addressbook-contact-data-fields\">\r\n              <p>{data.name}</p>\r\n              <p>{data.email}</p>\r\n              <p>{data.phone}</p>\r\n              <p className=\"note\">{data.notes}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"addressbook-contact-data-item addressbook-contact-data-address\">\r\n            <div className=\"addressbook-contact-data-header\">\r\n              <p>Address information</p>\r\n            </div>\r\n            <div className=\"addressbook-contact-data-fieldnames\">\r\n              <p>Address:</p>\r\n              <p>City:</p>\r\n              <p>Postal code:</p>\r\n              <p>Country:</p>\r\n            </div>\r\n            <div className=\"addressbook-contact-data-fields\">\r\n              <p>{data.address.street}</p>\r\n              <p>{data.address.city}</p>\r\n              <p>{data.address.postCode}</p>\r\n              <p>{data.address.country}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"addressbook-contact-data-item addressbook-contact-data-map\">\r\n            <div className=\"addressbook-contact-data-map-container\">\r\n\r\n              <iframe\r\n                title=\"map\"\r\n                src={src}\r\n                frameBorder=\"0\"\r\n                scrolling=\"no\"\r\n                marginHeight=\"0\"\r\n                marginWidth=\"0\">\r\n              </iframe>\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      </div >\r\n    )\r\n\r\n    return contactContent;\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.redirectToCategory) {\r\n      return <Redirect to={`/addressbook/${this.state.redirectToCategory}`} />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n\r\n        {this.renderContactContent()}\r\n        {this.state.showSpinner && <Spinner />}\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddressbookContactView;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport AddressbookList from './AddressbookList';\r\nimport AddressbookAdd from './AddressbookAdd';\r\nimport AddressbookContactView from './AddressbookContactView';\r\nimport Error from '../../layout/Error';\r\n\r\n\r\nconst AddressbookPage = () => {\r\n\r\n  return (\r\n    <>\r\n\r\n      <Switch>\r\n\r\n        <Route path='/addressbook/:category' exact component={AddressbookList} />\r\n        <Route path='/addressbook/add/new' component={AddressbookAdd} />\r\n        <Route path='/addressbook/:category/contactview/:id' component={AddressbookContactView} />\r\n        <Route component={Error} />\r\n\r\n      </Switch>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddressbookPage;","import React from 'react';\r\nimport AddressbookNav from './AddressbookNav';\r\nimport AddressbookPage from './AddressbookPage';\r\nimport '../../styles/layout/Content.css';\r\n\r\nconst Addressbook = () => {\r\n  return (\r\n    <>\r\n\r\n      <div className=\"navigation\"> {<AddressbookNav />} </div>\r\n      <div className=\"page\"> {<AddressbookPage />}</div>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Addressbook;","import React from 'react';\r\nimport '../../styles/about/About.css';\r\n\r\nconst About = () => {\r\n  return (\r\n\r\n\r\n    <div className=\"about-container\">\r\n      <div className=\"about-content-header\">About this app</div>\r\n      <div className=\"about-content-container\">\r\n        <p>\r\n          This app was created as a training exercise to improve programming skills. It is a simplified version of a mailbox, with features listed below.\r\n        </p>\r\n\r\n        <p className=\"title\">Features</p>\r\n        <div>\r\n\r\n          <div className=\"about-content-features\">\r\n            <i className='far fa-envelope-open'></i>\r\n            <p>Email - displays a list of sample messages, with ability to proceed with basic operations, such as: composing, deleting, editing messages, moving messages between folders. Sending emails is simulated only.</p>\r\n          </div>\r\n\r\n          <div className=\"about-content-features\">\r\n            <i className='far fa-calendar-alt'></i>\r\n            <p>Calendar - planner with day and week view, displaying tasks in date / time matrix. Allows to add new, edit and delete existing tasks.</p>\r\n          </div>\r\n\r\n          <div className=\"about-content-features\">\r\n            <i className='far fa-address-book'></i>\r\n            <p>Addressbook - displays list of sample contact records, which can be edited, deleted or messaged (by linking to email compose component).</p>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <p className=\"title\">Technologies used</p>\r\n        <p>\r\n          This is a web SPA developed in React, connected to an external API. All changes are saved in API memory (they are not saved in a database). All data is periodically reset.\r\n        </p>\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default About;","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport Email from '../content/email/Email';\r\nimport Calendar from '../content/calendar/Calendar';\r\nimport Addressbook from '../content/addressbook/Addressbook';\r\nimport About from '../content/about/About';\r\nimport '../styles/layout/Content.css';\r\n\r\nconst Content = () => {\r\n  return (\r\n    <>\r\n\r\n      <div className=\"content-container\">\r\n\r\n        <Switch>\r\n          <Route path='/' exact render={() => (\r\n            <Redirect to='/email/inbox' />\r\n          )} />\r\n          <Route path='/email' exact render={() => (\r\n            <Redirect to='/email/inbox' />\r\n          )} />\r\n          <Route path='/email' component={Email} />\r\n\r\n          <Route path='/calendar' component={Calendar} />\r\n\r\n          <Route path='/addressbook' exact render={() => (\r\n            <Redirect to='/addressbook/all' />\r\n          )} />\r\n          <Route path='/addressbook' component={Addressbook} />\r\n\r\n          <Route path='/about' component={About} />\r\n\r\n          <Route render={() => (\r\n            <Redirect to='/email/inbox' />\r\n          )} />\r\n\r\n        </Switch>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Content;","import React, { Component } from 'react';\r\nimport '../styles/layout/App.css';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport Menubar from './Menubar';\r\nimport Header from './header/Header';\r\nimport Content from './Content';\r\nimport { ToastContainer, Zoom } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const localStorageTheme = JSON.parse(localStorage.getItem('appTheme'));\r\n    this.state = {\r\n      appTheme: localStorageTheme ?? { backgroundImage: 'linear-gradient(120deg, #96adcb 50%, #c2e9fb 100%)' },\r\n    }\r\n  }\r\n\r\n  handleBackgroundChange = (style) => {\r\n    this.setState({\r\n      appTheme: style,\r\n    });\r\n\r\n    const styleJSON = JSON.stringify(style);\r\n    localStorage.setItem('appTheme', styleJSON);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Router>\r\n          <div className=\"app\" style={this.state.appTheme}>\r\n            <div className=\"header\">{<Header handleBackgroundChange={this.handleBackgroundChange} />}</div>\r\n            <div className=\"main-container\">\r\n              <div className=\"menubar\">{<Menubar />}</div>\r\n              <div className=\"content\">{<Content />}</div>\r\n            </div>\r\n\r\n          </div>\r\n        </Router >\r\n\r\n        <ToastContainer\r\n          position=\"bottom-left\"\r\n          limit={3}\r\n          autoClose={2500}\r\n          transition={Zoom} />\r\n      </>\r\n    )\r\n  };\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { StrictMode } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/layout/index.css';\r\nimport App from './layout/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n  document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}